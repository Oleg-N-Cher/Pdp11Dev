<!DOCTYPE html>
<html lang="ru">
<head>
<title>БК-0011М - Руководство системного программиста</title>
<meta content="text/html;charset=UTF-8" http-equiv="Content-Type">
<link href="/css/cmmn.css" rel="stylesheet">
<link href="/css/style11.css" rel="stylesheet">
</head>

<body>
<div id="content">
	<h1 id="firstHeading" class="firstHeading">БК-0011М - Руководство системного 
		программиста</h1>
	<p class="contn">Набил <span class="nmbr">13</span>.<span class="nmbr">08</span>.<span class="nmbr">1992</span> В. Усович. Подготовил к печати и перевёл из RT-11 в MKDOS <span class="nmbr"> 31</span>.<span class="nmbr">07</span>.<span class="nmbr">1993</span> Чурин 
		Д.М. (Asfalt software). </p>
	<p>&nbsp;</p>
	<p class="cst___s">&nbsp;</p>
	<p class="preblk">УТВЕРЖДЕН<br>
		00015-01.32.01-ЛУ<br>
		<br>
		<br>
		<br>
		<br>
	</p>
	<center class="preblk">
		ПЕРСОНАЛЬНАЯ ЭВМ &#39;ЭЛЕКТРОНИКА МС <span class="nmbr">0513</span>&#39;<br>
		(&#39;ЭЛЕКТРОНИКА БК-0011М&#39;)<br>
		ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ<br>
		БАЗОВАЯ ОПЕРАЦИОННАЯ 
		СИСТЕМА<br>
		РУКОВОДСТВО СИСТЕМНОГО ПРОГРАММИСТА<br>
		<span class="nmbr">00015</span> - <span class="nmbr">01</span>.<span class="nmbr">32</span>.<span class="nmbr">01</span><br>
		<br>
		<br>
		1 9 9 0<br>
	</center>
	<div id="mw-content-text" class="mw-content-ltr">
		<div id="toc" class="toc">
			<div id="toctitle">
				<h2>Содержание</h2>
			</div>
			<ul>
				<li class="toclevel-1"><a href="#_ref_anntn"> <span class="tocnumber">&nbsp;&nbsp; </span>&nbsp;<span class="toctext">Аннотация</span></a></li>
				<li class="toclevel-1"><a href="#_ref_p1"> <span class="tocnumber">1.</span> <span class="toctext">Краткое 
					описание микроЭВМ БК-0011</span></a>
					<ul>
						<li class="toclevel-2"><a href="#_ref_p11"> <span class="tocnumber">1.1.</span> <span class="toctext">Архитектура 
							ЭВМ</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p111"> <span class="tocnumber">1.1.1.</span> <span class="toctext">Распределение адресного пространства 
									ЭВМ</span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p12"> <span class="tocnumber">1.2.</span> <span class="toctext">Регистры 
							внешних устройств ЭВМ</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p121"> <span class="tocnumber">1.2.1.</span> <span class="toctext">Регистр состояния клавиатуры</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p122"> <span class="tocnumber">1.2.2.</span> <span class="toctext">Регистр данных клавиатуры</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p123"> <span class="tocnumber">1.2.3.</span> <span class="toctext">Регистр управления палитрами</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p124"> <span class="tocnumber">1.2.4.</span> <span class="toctext">Регистр смещения</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p125"> <span class="tocnumber">1.2.5.</span> <span class="toctext">Регистр параллельного программируемого 
									интерфейса</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p126"> <span class="tocnumber">1.2.6.</span> <span class="toctext">Системный регистр</span></a>
									<ul>
										<li class="toclevel-4"><a href="#_ref_p1261"> <span class="tocnumber">1.2.6.1.</span> <span class="toctext">Регистр чтения</span></a></li>
										<li class="toclevel-4"><a href="#_ref_p1262"> <span class="tocnumber">1.2.6.2.</span> <span class="toctext">Регистр управления памятью</span></a></li>
										<li class="toclevel-4"><a href="#_ref_p1263"> <span class="tocnumber">1.2.6.3.</span> <span class="toctext">Регистр управления магнитофоном</span></a></li>
									</ul>
								</li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p13"> <span class="tocnumber">1.3.</span> <span class="toctext">Особенности 
							выполнения команд</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p14"> <span class="tocnumber">1.4.</span> <span class="toctext">Вектора 
							прерываний и зарезервированные ячейки БОС</span></a></li>
					</ul>
				</li>
				<li class="toclevel-1"><a href="#_ref_p2"> <span class="tocnumber">2.</span> <span class="toctext">Функции 
					базовой операционной системы</span></a>
					<ul>
						<li class="toclevel-2"><a href="#_ref_p21"> <span class="tocnumber">2.1.</span> <span class="toctext">Программа 
							начального пуска</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p22"> <span class="tocnumber">2.2.</span> <span class="toctext">Клавиатурный 
							монитор</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p221"> <span class="tocnumber">2.2.1.</span> <span class="toctext">Команды монитора</span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p23"> <span class="tocnumber">2.3.</span> <span class="toctext">Таблица 
							системных вызовов</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p24"> <span class="tocnumber">2.4.</span> <span class="toctext">Диспетчер 
							EMT</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p25"> <span class="tocnumber">2.5.</span> <span class="toctext">Драйвер 
							ОЗУ/ПЗУ</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p26"> <span class="tocnumber">2.6.</span> <span class="toctext">Драйвер 
							клавиатуры</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p27"> <span class="tocnumber">2.7.</span> <span class="toctext">Драйвер 
							экрана</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p28"> <span class="tocnumber">2.8.</span> <span class="toctext">Драйвер 
							кассетного магнитофона</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p29"> <span class="tocnumber">2.9.</span> <span class="toctext">Драйвер 
							принтера</span></a></li>
						<li class="toclevel-2"><a href="#_ref_p210"> <span class="tocnumber">2.10.</span> <span class="toctext">Драйвер 
							НГМД</span></a></li>
					</ul>
				</li>
				<li class="toclevel-1"><a href="#_ref_p3"> <span class="tocnumber">3.</span> <span class="toctext">Описание 
					системных запросов БОС</span></a>
					<ul>
						<li class="toclevel-2"><a href="#_ref_p31"> <span class="tocnumber">3.1.</span> <span class="toctext">Общесистемные 
							запросы</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p311"> <span class="tocnumber">3.1.1.</span> <span class="toctext">Инициализация базовой операционной 
									системы <span class="pscm">.BINIT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p312"> <span class="tocnumber">3.1.2.</span> <span class="toctext">Выход в клавиатурный монитор <span class="pscm">.BEXIT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p313"> <span class="tocnumber">3.1.3.</span> <span class="toctext">Перехват вектора 4 <span class="pscm">.BTRPS</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p314"> <span class="tocnumber">3.1.4.</span> <span class="toctext">Управление таймером <span class="pscm">.BTIM</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p315"> <span class="tocnumber">3.1.5.</span> <span class="toctext">Управление обработкой EMT <span class="pscm">.BEMT</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p32"> <span class="tocnumber">3.2.</span> <span class="toctext">Запросы 
							драйвера ОЗУ/ПЗУ</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p321"> <span class="tocnumber">3.2.1.</span> <span class="toctext">Чтение состояния памяти <span class="pscm">.BMEM</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p322"> <span class="tocnumber">3.2.2.</span> <span class="toctext">Чтение статуса страницы ОЗУ/ПЗУ <span class="pscm">.BTEST</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p323"> <span class="tocnumber">3.2.3.</span> <span class="toctext">Подключение страницы ОЗУ/ПЗУ <span class="pscm">.BPAGE</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p324"> <span class="tocnumber">3.2.4.</span> <span class="toctext">Назначение рабочей страницы <span class="pscm">.BWORK</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p325"> <span class="tocnumber">3.2.5.</span> <span class="toctext">Чтение слова из рабочей страницы <span class="pscm">.BGETW</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p326"> <span class="tocnumber">3.2.6.</span> <span class="toctext">Чтение байта из рабочей страницы <span class="pscm">.BGETB</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p327"> <span class="tocnumber">3.2.7.</span> <span class="toctext">Запись слова в рабочую страницу <span class="pscm">.BPUTW</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p328"> <span class="tocnumber">3.2.8.</span> <span class="toctext">Запись байта в рабочую страницу <span class="pscm">.BPUTB</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p329"> <span class="tocnumber">3.2.9.</span> <span class="toctext">Пересылка массива слов <span class="pscm">.BMOVE</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3210"> <span class="tocnumber">3.2.10.</span> <span class="toctext">Пересылка массива байтов <span class="pscm">.BMOVB</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3211"> <span class="tocnumber">3.2.11.</span> <span class="toctext">Вызов подпрограммы из рабочей страницы <span class="pscm">.BJSR</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3212"> <span class="tocnumber">3.2.12.</span> <span class="toctext">Переход в рабочую страницу без возврата <span class="pscm">.BJMP</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p33"> <span class="tocnumber">3.3.</span> <span class="toctext">Запросы 
							драйвера клавиатуры</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p331"> <span class="tocnumber">3.3.1.</span> <span class="toctext">Инициализация драйвера клавиатуры <span class="pscm">.BKINI</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p332"> <span class="tocnumber">3.3.2.</span> <span class="toctext">Установка режима драйвера клавиатуры <span class="pscm">.BKSET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p333"> <span class="tocnumber">3.3.3.</span> <span class="toctext">Чтение режима работы клавиатуры <span class="pscm">.BKGET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p334"> <span class="tocnumber">3.3.4.</span> <span class="toctext">Ввод символа с ожиданием <span class="pscm">.BTTIN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p335"> <span class="tocnumber">3.3.5.</span> <span class="toctext">Ввод символа без ожидания <span class="pscm">.BINKEY</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p336"> <span class="tocnumber">3.3.6.</span> <span class="toctext">Ввод строки с редактированием <span class="pscm">.BGLIN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p337"> <span class="tocnumber">3.3.7.</span> <span class="toctext">Редактирование существующей строки <span class="pscm">.BEDIT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p338"> <span class="tocnumber">3.3.8.</span> <span class="toctext">Сброс буфера клавиатуры <span class="pscm">.BKRES</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p339"> <span class="tocnumber">3.3.9.</span> <span class="toctext">Установка функциональных клавиш <span class="pscm">.BSFUN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3310"> <span class="tocnumber">3.3.10.</span> <span class="toctext">Чтение функциональных клавиш <span class="pscm">.BGFUN</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p34"> <span class="tocnumber">3.4.</span> <span class="toctext">Запросы 
							драйвера экрана</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p341"> <span class="tocnumber">3.4.1.</span> <span class="toctext">Инициализация драйвера экрана <span class="pscm">.BTINI</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p342"> <span class="tocnumber">3.4.2.</span> <span class="toctext">Установка режима драйвера экрана <span class="pscm">.BTSET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p343"> <span class="tocnumber">3.4.3.</span> <span class="toctext">Чтение режима драйвера экрана <span class="pscm">.BTGET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p344"> <span class="tocnumber">3.4.4.</span> <span class="toctext">Установка цветов <span class="pscm">.BSCOL</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p345"> <span class="tocnumber">3.4.5.</span> <span class="toctext">Чтение цветов <span class="pscm">.BGCOL</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p346"> <span class="tocnumber">3.4.6.</span> <span class="toctext">Установка/чтение палитры <span class="pscm">.BPAL</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p347"> <span class="tocnumber">3.4.7.</span> <span class="toctext">Переключение буферов экрана <span class="pscm">.BBUF</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p348"> <span class="tocnumber">3.4.8.</span> <span class="toctext">Установка координат алфавитно-цифрового 
									курсора <span class="pscm">.BSPOS</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p349"> <span class="tocnumber">3.4.9.</span> <span class="toctext">Чтение координат Алфавитно-цифрового 
									курсора <span class="pscm">.BGPOS</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3410"> <span class="tocnumber">3.4.10.</span> <span class="toctext">Сдвиг экрана <span class="pscm">.BSCRL</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3411"> <span class="tocnumber">3.4.11.</span> <span class="toctext">Очистка экрана <span class="pscm"> .BCLS</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3412"> <span class="tocnumber">3.4.12.</span> <span class="toctext">Вывод символа <span class="pscm">.BTOUT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3413"> <span class="tocnumber">3.4.13.</span> <span class="toctext">Вывод строки символов (формат RT-11) <span class="pscm">.BPRIN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3414"> <span class="tocnumber">3.4.14.</span> <span class="toctext">Вывод строки символов <span class="pscm">.BSTR</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3415"> <span class="tocnumber">3.4.15.</span> <span class="toctext">Установка текущих графических координат <span class="pscm">.BSGRF</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3416"> <span class="tocnumber">3.4.16.</span> <span class="toctext">Чтение текущих графических координат <span class="pscm">.BGGRF</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3417"> <span class="tocnumber">3.4.17.</span> <span class="toctext">Установка графического цвета <span class="pscm">.BSCGR</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3418"> <span class="tocnumber">3.4.18.</span> <span class="toctext">Чтение графического цвета <span class="pscm">.BGCGR</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3419"> <span class="tocnumber">3.4.19.</span> <span class="toctext">Установка/чтение режима рисования <span class="pscm">.BSMOD</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3420"> <span class="tocnumber">3.4.20.</span> <span class="toctext">Вывод графической точки <span class="pscm">.BSPNT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3421"> <span class="tocnumber">3.4.21.</span> <span class="toctext">Чтение цвета графической точки <span class="pscm">.BGPNT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3422"> <span class="tocnumber">3.4.22.</span> <span class="toctext">Вывод графического вектора <span class="pscm">.BVECT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3423"> <span class="tocnumber">3.4.23.</span> <span class="toctext">Вывод закрашенного прямоугольника <span class="pscm">.BRECT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3424"> <span class="tocnumber">3.4.24.</span> <span class="toctext">Вывод дуги или окружности <span class="pscm">.BCIRC</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3425"> <span class="tocnumber">3.4.25.</span> <span class="toctext">Закраска гранично-определённой области <span class="pscm">.BFILL</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3426"> <span class="tocnumber">3.4.26.</span> <span class="toctext">Выдача звука <span class="pscm">.BSOUN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3427"> <span class="tocnumber">3.4.27.</span> <span class="toctext">Установка графического окна <span class="pscm">.BSWIN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3428"> <span class="tocnumber">3.4.28.</span> <span class="toctext">Чтение графического экрана <span class="pscm">.BGWIN</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3429"> <span class="tocnumber">3.4.29.</span> <span class="toctext">Установка типа вектора <span class="pscm">.BSTYP</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3430"> <span class="tocnumber">3.4.30.</span> <span class="toctext">Чтение типа вектора <span class="pscm">.BGTYP</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3431"> <span class="tocnumber">3.4.31.</span> <span class="toctext">Установка и чтение ориентации графических 
									символов <span class="pscm">.BGOSET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p3432"> <span class="tocnumber">3.4.32.</span> <span class="toctext">Графический вывод символа <span class="pscm">.BGOUT</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p35"> <span class="tocnumber">3.5.</span> <span class="toctext">Запросы 
							драйвера магнитофона</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p351"> <span class="tocnumber">3.5.1.</span> <span class="toctext">Управление двигателем <span class="pscm">.BMOT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p352"> <span class="tocnumber">3.5.2.</span> <span class="toctext">Вызов формата БК-0010 <span class="pscm">.BMB10</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p36"> <span class="tocnumber">3.6.</span> <span class="toctext">Запросы 
							драйвера принтера</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p361"> <span class="tocnumber">3.6.1.</span> <span class="toctext">Инициализация драйвера принтера <span class="pscm">.BPINI</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p362"> <span class="tocnumber">3.6.2.</span> <span class="toctext">Установка режима печати <span class="pscm">.BPSET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p363"> <span class="tocnumber">3.6.3.</span> <span class="toctext">Чтение режима печати <span class="pscm">.BPGET</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p364"> <span class="tocnumber">3.6.4.</span> <span class="toctext">Вывод символа на печать <span class="pscm">.BPOUT</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p365"> <span class="tocnumber">3.6.5.</span> <span class="toctext">Определение готовности принтера <span class="pscm">.BPRDY</span></span></a></li>
								<li class="toclevel-3"><a href="#_ref_p366"> <span class="tocnumber">3.6.6.</span> <span class="toctext">Чтение текущей позиции печати <span class="pscm">.BPPOS</span></span></a></li>
							</ul>
						</li>
						<li class="toclevel-2"><a href="#_ref_p37"> <span class="tocnumber">3.7.</span> <span class="toctext">Запросы 
							драйвера НГМД</span></a>
							<ul>
								<li class="toclevel-3"><a href="#_ref_p371"> <span class="tocnumber">3.7.1.</span> <span class="toctext">Автоматическая загрузка</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p372"> <span class="tocnumber">3.7.2.</span> <span class="toctext">Загрузка с выбранного привода</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p373"> <span class="tocnumber">3.7.3.</span> <span class="toctext">Чтение-запись логического блока</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p374"> <span class="tocnumber">3.7.4.</span> <span class="toctext">Чтение-запись по номеру сектора и 
									дорожки</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p375"> <span class="tocnumber">3.7.5.</span> <span class="toctext">Инициализация рабочей области</span></a></li>
								<li class="toclevel-3"><a href="#_ref_p376"> <span class="tocnumber">3.7.6.</span> <span class="toctext">Форматирование дорожки</span></a></li>
							</ul>
						</li>
					</ul>
				</li>
				<li class="toclevel-1"><a href="#_ref_appn"> <span class="tocnumber">&nbsp; </span>&nbsp;<span class="toctext">Приложения</span></a>
					<ul>
						<li class="toclevel-2"><a href="#_ref_app1"> <span class="tocnumber">1.</span> <span class="toctext">Приложение 
							1: кодировка клавиш БК-0011</span></a></li>
						<li class="toclevel-2"><a href="#_ref_app2"> <span class="tocnumber">2.</span> <span class="toctext">Приложение 
							2: управление экраном</span></a></li>
						<li class="toclevel-2"><a href="#_ref_app3"> <span class="tocnumber">3.</span> <span class="toctext">Приложение 
							3: формат слова управления режимом экрана</span></a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
	<p><br>
	</p>
	<h1 id="_ref_anntn">Аннотация</h1>
	<p>Настоящее руководство рассчитано на пользователей микроЭВМ &quot;Электроника МС 
		0513&quot; (&quot;Электроника БК-0011М&quot;, далее ЭВМ), программирующих на уровне языка Ассемблера. </p>
	<p>В руководстве описаны состав и функции базовой операционной системы ЭВМ (далее 
		БОС) и способы обращения к ним из пользовательских программ. </p>
	<p>Описаны также команды монитора БОС, позволяющие пользователю работать с ЭВМ 
		в интерактивном режиме, вводить, отлаживать в кодах и запускать программы, считывать 
		и записывать программы на магнитную ленту и т.д. </p>
	<h1 id="_ref_p1">1. Краткое описание микроЭВМ БК-0011</h1>
	<h2 id="_ref_p11">1.1. Архитектура ЭВМ</h2>
	<p>ЭВМ построена на основе микропроцессорного комплекта серии К1801 и включает 
		в себя: </p>
	<ul>
		<li>однокристальный <span class="nmbr">16</span>-разрядный микропроцессор 
			К1801ВМ1; </li>
		<li>оперативное запоминающее устройство (ОЗУ) ёмкостью <span class="nmbr">128</span>К байт со страничной организацией, выполненное 
			на микросхемах К565РУ5; </li>
		<li>системное ПЗУ ёмкостью <span class="nmbr">16</span>К байт; </li>
		<li>контроллер клавиатуры на базе БИС К1801ВП1-014; </li>
		<li>контроллер ОЗУ и телевизионного графического дисплея на базе БИС К1801ВП1-037; </li>
		<li>контроллер накопителя на бытовом кассетном магнитофоне; </li>
		<li><span class="nmbr">16</span>-разрядный параллельный программируемый 
			интерфейс. </li>
	</ul>
	<p>Отдельные функциональные узлы ЭВМ соединены с помощью межмодульного параллельного 
		интерфейса МПИ ОСТ 11.305.903-80. </p>
	<p>Обслуживание перечисленных устройств, а также внешних дополнительных блоков 
		контроллеров локальной сети и НГМД осуществляется соответствующими программами-драйверами, 
		расположенными в системном ПЗУ ЭВМ и в дополнительных блоках. </p>
	<h3 id="_ref_p111">1.1.1. Распределение адресного пространства ЭВМ</h3>
	<p>Виртуальное адресное пространство ЭВМ определяется возможностями процессора 
		К1801ВМ1 и составляет <span class="nmbr">64</span>К байт. Распределение адресного 
		пространства показано на рис.1. </p>
	<center>
		<table border="0" cellpadding="0" cellspacing="0" class="tpic">
			<tr>
				<td></td>
				<td></td>
				<td class="cs__b_s" colspan="5"><p class="centr">Переключаемые страницы ОЗУ и ПЗУ</p></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td width="65"></td>
				<td width="65"></td>
				<td width="65"></td>
				<td width="65"><p class="left">/</p></td>
				<td width="65"><p class="right">\</p></td>
				<td width="65"></td>
				<td width="65"></td>
				<td width="65"></td>
				<td width="65"></td>
				<td width="65"></td>
			</tr>
			<tr>
				<td class="cst_bls" colspan="2"><p class="centr">Стр. ОЗУ <span class="nmbr">0</span></p></td>
				<td class="cst_bldsh" colspan="2"><p class="centr"><span lang="en-us">. . . . .</span></p></td>
				<td class="cst_bldsh" colspan="2"><p class="centr"><span lang="en-us">. . . . .</span></p></td>
				<td class="cst_bls" colspan="2"><p class="centr">СИСТ. ПЗУ</p></td>
				<td class="cstrbls" colspan="2"><p class="centr">РЕГИСТРЫ ВУ</p></td>
			</tr>
			<tr>
				<td><p class="left"><span class="nmbr">0</span></p></td>
				<td colspan="2"><p class="centr"><span class="nmbr">40000</span></p></td>
				<td colspan="2"><p class="centr"><span class="nmbr">100000</span></p></td>
				<td colspan="2"><p class="centr"><span class="nmbr">140000</span></p></td>
				<td colspan="2"><p class="centr"><span class="nmbr">160000</span></p></td>
				<td><p class="right"><span class="nmbr">17<span lang="en-us">7777</span></span></p></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td><p class="left"><span lang="en-us">|</span></p></td>
				<td><p class="right"><span lang="en-us">|</span></p></td>
				<td></td>
				<td class="cs___ls"></td>
				<td></td>
				<td class="cs___ls"></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td class="cst_bls" colspan="2"><p class="centr">Стр. ОЗУ <span class="nmbr">0</span>...<span class="nmbr">7</span>&nbsp; </p></td>
				<td class="cst_bls" colspan="2"><p class="centr">&nbsp;Стр. ОЗУ <span class="nmbr">0</span>...<span class="nmbr">7</span></p></td>
				<td class="cstrbls" colspan="3"><p class="left">&nbsp;ПЗУ контроллера НГМД</p></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td colspan="2"><p class="centr">или</p></td>
				<td colspan="2"><p class="centr">или</p></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td class="cst_bls" colspan="2"><p class="centr">ПЗУ</p></td>
				<td class="cstrbls" colspan="3"><p class="left">&nbsp;ПЗУ блока МСТД</p></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td colspan="2"><p class="centr">или</p></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td class="cstrbls" colspan="2"><p class="centr">Сменный блок ПЗУ</p></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		</table>
		<p class="picttl">Рис.1.</p>
	</center>
	<p>Переключение страниц ОЗУ/ПЗУ осуществляется программно с использованием системного 
		регистра ЭВМ. </p>
	<p>Следует обратить внимание, что каждая страница ОЗУ может быть одновременно 
		подключена к двум окнам виртуального адресного пространства, а статическая страница 
		(адреса <span class="nmbr">0</span> - <span class="nmbr">40000</span>) - даже 
		к <span class="nmbr">3</span>-м. Переключение страниц из пользовательской программы 
		может осуществляться только с помощью запросов базовой операционной системы. </p>
	<p>Две страницы ОЗУ являются буферами экрана графического дисплея. Один из буферов 
		постоянно отображается на экране телевизионного приёмника. Управление отображением 
		того или иного буфера экрана также возложено на базовую операционную систему, 
		причём имеется возможность &quot;скрытого&quot; вывода на экран, т.е. формирование изображения 
		из программы пользователя в одном буфере в то время,как на экран выводится другой. </p>
	<p>Одна из страниц ОЗУ является служебной страницей базовой операционной системы 
		ЭВМ и недоступна пользователям. Однако часть ее, не используемая базовой операционной 
		системой, доступна для чтения-записи с помощью запросов драйвера ОЗУ/ПЗУ. </p>
	<h2 id="_ref_p12">1.2. Регистры внешних устройств ЭВМ</h2>
	<p>Работа ЭВМ с периферийными (внешними) устройствами выполняется через регистры 
		внешних устройств, для которых выделен диапазон <span class="nmbr">170000</span> - <span class="nmbr">177777</span> адресного пространства. Ниже описаны регистры 
		стандартных периферийных устройств. </p>
	<h3 id="_ref_p121">1.2.1. Регистр состояния клавиатуры</h3>
	<p>Адрес регистра - <span class="nmbr">177660</span></p>
	<p>&nbsp;Формат регистра: </p>
	<svg id="r121" height="80" width="402">
		<rect id="r_cell" x="0.5" y="0.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell" transform="translate(25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell" transform="translate(50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell" transform="translate(75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<line id="ln1" x1="213.5" y1="26.5" x2="213.5" y2="42.5" class="style0"/>
		<line id="ln2" x1="238.5" y1="26.5" x2="238.5" y2="62.5" class="style0"/>
		<text id="t_b7d" x="138" y="56" class="style1">готовность</text>
		<text id="t_b6d" x="116" y="76" class="style1">маскирование прерываний</text>
	</svg>
	<dl>
		<dt>Разряд <span class="nmbr">7</span></dt>
		<dd>
			<p>- &quot;<span class="nmbr">1</span>&quot; в этом разряде означает, что в регистре 
				данных клавиатуры находится код нажатой клавиши. Устанавливается при 
				нажатии на клавишу, сбрасывается при чтении регистра данных клавиатуры. 
				При нулевом состоянии <span class="nmbr">6</span>-го разряда установка 
				в &quot;<span class="nmbr">1</span>&quot; вызывает прерывание. Доступен только 
				по чтению. </p>
		</dd>
		<dt>Разряд <span class="nmbr">6</span></dt>
		<dd>
			<p>- &quot;<span class="nmbr">0</span>&quot; в этом разряде разрешает выработку 
				сигнала требования прерывания по единичному значению разряда <span class="nmbr">7</span>. </p>
		</dd>
	</dl>
	<p>Остальные разряды регистра не используются, читаются как <span class="nmbr">0</span>. По сигналу сброса магистрали разряд <span class="nmbr">6</span> устанавливается в &quot;<span class="nmbr">1</span>&quot;, 
		разряд <span class="nmbr">7</span> обнуляется. </p>
	<p><span class="attnt">ПРИМЕЧАНИЕ.</span> См.также информацию о бите <span class="nmbr">6</span> <a href="#_ref_p1261">системного регистра ЭВМ</a>. </p>
	<h3 id="_ref_p122">1.2.2. Регистр данных клавиатуры</h3>
	<p>Адрес регистра - <span class="nmbr">177662</span></p>
	<p>&nbsp;Формат регистра: </p>
	<svg id="r122" height="80" width="402">
		<rect id="r_cell" x="0.5" y="0.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell" transform="translate(25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell" transform="translate(50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell" transform="translate(75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<path id="p_sc" d="M225.5,26.5 Q225.5,38.5,241.5,38.5 L306.5,38.5 Q312.5,38.5,312.5,44.5 Q312.5,38.5,318.5,38.5 L388.5,38.5 Q400.5,38.5,400.5,26.5" class="style0"/>
		<text id="t_b6_0d" x="260" y="56" class="style1">код символа</text>
	</svg>
	<p>Разряды <span class="nmbr">0</span> - <span class="nmbr">6</span> содержат 
		код нажатой клавиши. Разряды <span class="nmbr">7</span> - <span class="nmbr">15</span> не используются, читаются нулями.</p>
	<p>&nbsp;Регистр доступен только по чтению. Данные сохраняются в регистре до 
		нажатия следующей клавиши клавиатуры. При установленном в &quot;<span class="nmbr">1</span>&quot; <span class="nmbr">7</span>-м разряде регистра состояния запись в регистр данных 
		блокируется и нажатия клавиш игнорируются. </p>
	<h3 id="_ref_p123">1.2.3. Регистр управления палитрами</h3>
	<p>Адрес регистра - <span class="nmbr">177662</span></p>
	<p>&nbsp;Формат регистра: </p>
	<svg id="r123" height="110" width="402">
		<rect id="r_cell" x="0.5" y="0.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell" transform="translate(25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell" transform="translate(50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell" transform="translate(75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<path id="p_sc" d="M100.5,26.5 Q100.5,38.5,116.5,38.5 L144.5,38.5 Q150.5,38.5,150.5,44.5 Q150.5,38.5,156.5,38.5 L188.5,38.5 Q200.5,38.5,200.5,26.5" class="style0"/>
		<text id="t_b11_8d" x="100" y="56" class="style1">код палитры</text>
		<polyline id="pl_b14" points="38.5,26.5 38.5,76.5 75.5,76.5" class="style0"/>
		<polyline id="pl_b15" points="13.5,26.5 13.5,100.5 75.5,100.5" class="style0"/>
		<text id="t_b11_14d" x="80" y="80" class="style1">управление таймером</text>
		<text id="t_b11_15d" x="80" y="104" class="style1">управление буфером 
			экрана</text>
	</svg>
	<p>Регистр доступен только по записи. </p>
	<dl>
		<dt>Разряд <span class="nmbr">15</span></dt>
		<dd>
			<p>- управляет отображением буферов экрана. При значении <span class="nmbr">0</span> отображается буфер <span class="nmbr">0</span> (страница <span class="nmbr">5</span>), при <span class="nmbr">1</span> - буфер <span class="nmbr">1</span> (страница <span class="nmbr">6</span>). </p>
		</dd>
		<dt>Разряд <span class="nmbr">14</span></dt>
		<dd>
			<p>- управляет включением системного таймера. При значении <span class="nmbr">0</span> таймер включен, при <span class="nmbr">1</span> - выключен. </p>
		</dd>
		<dt>Разряды <span class="nmbr">11</span> - <span class="nmbr">8</span></dt>
		<dd>
			<p>- в эти разряды записывается код палитры, которая задаёт кодировку цветов 
				на экране в режиме <span class="nmbr">256</span> точек/строка. </p>
		</dd>
	</dl>
	<p>Текущее состояние регистра можно определить с помощью запросов БОС. </p>
	<h3 id="_ref_p124">1.2.4. Регистр смещения</h3>
	<p>Регистр смещения предназначен для управления &quot;рулонным&quot; сдвигом информации 
		на экране по вертикали путём задания адреса в буфере экрана, с которого должна 
		начинаться регенерация изображения. </p>
	<p>Адрес регистра - <span class="nmbr">177664</span></p>
	<p>&nbsp;Формат регистра: </p>
	<svg id="r124" height="90" width="402">
		<rect id="r_cell" x="0.5" y="0.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell" transform="translate(25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell" transform="translate(50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell" transform="translate(75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<path id="p_sc" d="M200.5,26.5 Q200.5,38.5,216.5,38.5 L294.5,38.5 Q300.5,38.5,300.5,44.5 Q300.5,38.5,306.5,38.5 L388.5,38.5 Q400.5,38.5,400.5,26.5" class="style0"/>
		<text id="t_b7_0d" x="260" y="56" class="style1">смещение</text>
		<line id="ln1" x1="163.5" y1="26.5" x2="163.5" y2="62.5" class="style0"/>
		<text id="t_b9_0d" x="63" y="80" class="style1">режим &quot;малого&quot; экрана</text>
	</svg>
	<dl>
		<dt>Разряд <span class="nmbr">9</span></dt>
		<dd>
			<p>- при записи &quot;<span class="nmbr">1</span>&quot; в этот разряд на экране 
				отображается весь буфер экрана (<span class="nmbr">256</span> телевизионных 
				строк). При нулевом значении в верхней части растра отображается <span class="nmbr">1</span>/<span class="nmbr">4</span> часть (старшие 
				адреса) экранного ОЗУ, нижняя часть экрана не отображается. Данный режим 
				не используется базовой операционной системой. </p>
		</dd>
		<dt>Разряды <span class="nmbr">7</span> - <span class="nmbr">0</span></dt>
		<dd>
			<p>- в этом поле задаётся адрес строки экранного ОЗУ, с которой начинается 
				отображение экрана. </p>
		</dd>
	</dl>
	<p>ОЗУ буфера экрана считается &quot;замкнутым в кольцо&quot;. Экран состоит из <span class="nmbr">256</span> строк по <span class="nmbr">64</span> байта в 
		каждой. Строки начинаются с адресов, кратных <span class="nmbr">100</span> (восьмеричное). 
		Первый байт строки расположен в левом конце строки, байты отображаются, начиная 
		с младшего бита. Смещение задаётся в строках, т.е. изменение кода смещения на <span class="nmbr">1</span> приводит к кольцевому сдвигу информации на экране 
		на одну строку растра. Исходному состоянию (первый байт буфера экрана отображается 
		в самой верхней строке растра) соответствует значение смещения <span class="nmbr">330</span> восьмеричное. Увеличение значения соответствует 
		сдвигу информации вверх, уменьшение - вниз. </p>
	<p>Остальные разряды не используются. Регистр доступен по записи и чтению. </p>
	<h3 id="_ref_p125">1.2.5. Регистр параллельного программируемого интерфейса</h3>
	<p>Этот <span class="nmbr">16</span>-разрядный регистр предназначен для записи 
		информации в выходной порт и чтения информации с входного порта. </p>
	<p>Адрес регистра - <span class="nmbr">177714</span></p>
	<p>Возможность прочитать состояние выходного порта отсутствует. Фактически в 
		ЭВМ реализованы два независимых регистра,имеющие один и тот же адрес: </p>
	<ul>
		<li>доступный только по записи регистр выходного порта; </li>
		<li>доступный только по чтению регистр входного порта. </li>
	</ul>
	<h3 id="_ref_p126">1.2.6. Системный регистр</h3>
	<p>Используется при начальном запуске процессора, для переключения страниц ОЗУ/ПЗУ, 
		управления внешними устройствами ЭВМ. </p>
	<p>Адрес регистра - <span class="nmbr">177716</span></p>
	<p>Фактически по указанному адресу расположены три регистра: </p>
	<ol>
		<li>регистр, доступный только по чтению; </li>
		<li>два регистра, доступных только по записи (регистр управления памятью 
			и регистр управления магнитофоном). </li>
	</ol>
	<h4 id="_ref_p1261">1.2.6.1. Регистр чтения</h4>
	<p>Формат регистра: </p>
	<svg id="r1261" height="172" width="482">
		<rect id="r_cell2" x="0.5" y="24.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell2" transform="translate (25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell2" transform="translate (50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell2" transform="translate (75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell2" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell2" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell2" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell2" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell2" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell2" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell2" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell2" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell2" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell2" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell2" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell2" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<text id="t_bc15"  x="13" y="40" class="style2">
			<tspan class="nmbr">1</tspan>
		</text>
		<text id="t_bc14"  x="38" y="40" class="style2">
			<tspan class="nmbr">1</tspan>
		</text>
		<text id="t_bc13"  x="63" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc12"  x="88" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc11" x="113" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc10" x="138" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc09" x="163" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc08" x="188" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc07" x="213" y="40" class="style2">
			<tspan class="nmbr">1</tspan>
		</text>
		<text id="t_bc06" x="238" y="40" class="style2">X</text>
		<text id="t_bc05" x="263" y="40" class="style2">X</text>
		<text id="t_bc04" x="288" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc03" x="313" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc02" x="338" y="40" class="style2">X</text>
		<text id="t_bc01" x="363" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc00" x="388" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<path id="p_sc" d="M200.5,26.5 Q200.5,38.5,216.5,38.5 L294.5,38.5 Q300.5,38.5,300.5,44.5 Q300.5,38.5,306.5,38.5 L388.5,38.5 Q400.5,38.5,400.5,26.5" transform="translate(-199.5,24.5)" class="style0"/>
		<text id="t_b15_8d" x="0" y="80" class="style1">адрес начального пуска</text>
		<polyline id="pl_b7" points="213.5,50.5 213.5,116.5 170.5,116.5" class="style0"/>
		<text id="t_b7d" x="0" y="0" class="style1">
			<tspan x="4" y="104">признак отсутствия</tspan>
			<tspan x="4" y="120">арифметического</tspan>
			<tspan x="4" y="136">расширителя</tspan>
		</text>
		<rect id="r_b7d" x="0.5" y="94.5" width="170" height="48" class="style3"/>
		<line id="l_b6" x1="238.5" y1="50.5" x2="238.5" y2="150.5" class="style0"/>
		<text id="t_b6d" x="150" y="164" class="style1">флаг нажатия клавиши</text>
		<polyline id="pl_b5" points="263.5,50.5 263.5,116.5 288.5,116.5" class="style0"/>
		<text id="t_b5d" x="292" y="120" class="style1">данные с магнитофона</text>
		<line id="l_b2" x1="338.5" y1="50.5" x2="338.5" y2="70.5" class="style0"/>
		<text id="t_b2d" x="0" y="0" class="style1">
			<tspan x="288" y="80">признак записи</tspan>
			<tspan x="288" y="96">в системный регистр</tspan>
		</text>
		<rect id="r_b2d" x="284.5" y="70.5" width="180" height="32" class="style3"/>
	</svg>
	<dl>
		<dt>Разряды <span class="nmbr">15</span> - <span class="nmbr">8</span></dt>
		<dd>
			<p>&nbsp;- определяют адрес начального пуска ЭВМ по включению питания 
				(<span class="nmbr">140000</span>); </p>
		</dd>
		<dt>Разряд <span class="nmbr">7</span></dt>
		<dd>
			<p>&nbsp;- должен быть равен &quot;<span class="nmbr">1</span>&quot;; </p>
		</dd>
		<dt>Разряд <span class="nmbr">6</span></dt>
		<dd>
			<p>&nbsp;- установлен в &quot;<span class="nmbr">0</span>&quot;, если нажата любая 
				клавиша клавиатуры ЭВМ. Устанавливается в &quot;<span class="nmbr">1</span>&quot; 
				по отпускании клавиши; </p>
		</dd>
		<dt>Разряд <span class="nmbr">5</span></dt>
		<dd>
			<p>&nbsp;- разряд данных контроллера магнитофона; </p>
		</dd>
		<dt>Разряд <span class="nmbr">2</span></dt>
		<dd>
			<p>&nbsp;- этот разряд устанавливается в &quot;<span class="nmbr">1</span>&quot; 
				по любой операции записи в системный регистр. Сбрасывается в &quot;<span class="nmbr">0</span>&quot; 
				по окончанию операции чтения системного регистра. Об использовании этого 
				разряда см. в разделе, посвящённом <a href="#_ref_p13">особенностям 
				выполнения некоторых команд ЭВМ</a>. </p>
		</dd>
	</dl>
	<p>Остальные разряды не используются и читаются нулями. </p>
	<h4 id="_ref_p1262">1.2.6.2. Регистр управления памятью</h4>
	<p>Формат регистра: </p>
	<svg id="r1262" height="182" width="432">
		<rect id="r_cell2" x="0.5" y="24.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell2" transform="translate (25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell2" transform="translate (50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell2" transform="translate (75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell2" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell2" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell2" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell2" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell2" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell2" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell2" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell2" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell2" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell2" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell2" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell2" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<text id="t_bc15"  x="13" y="40" class="style2">.</text>
		<text id="t_bc14"  x="38" y="40" class="style2">X</text>
		<text id="t_bc13"  x="63" y="40" class="style2">X</text>
		<text id="t_bc12"  x="88" y="40" class="style2">X</text>
		<text id="t_bc11" x="113" y="40" class="style2">
			<tspan class="nmbr">1</tspan>
		</text>
		<text id="t_bc10" x="138" y="40" class="style2">X</text>
		<text id="t_bc09" x="163" y="40" class="style2">X</text>
		<text id="t_bc08" x="188" y="40" class="style2">X</text>
		<text id="t_bc07" x="213" y="40" class="style2">.</text>
		<text id="t_bc06" x="238" y="40" class="style2">.</text>
		<text id="t_bc05" x="263" y="40" class="style2">.</text>
		<text id="t_bc04" x="288" y="40" class="style2">X</text>
		<text id="t_bc03" x="313" y="40" class="style2">X</text>
		<text id="t_bc02" x="338" y="40" class="style2">.</text>
		<text id="t_bc01" x="363" y="40" class="style2">X</text>
		<text id="t_bc00" x="388" y="40" class="style2">X</text>
		<path id="p_sc2" d="M25.5,50.5 Q25.5,62.5,41.5,62.5 L57.5,62.5 Q63.5,62.5,63.5,68.5 Q63.5,62.5,69.5,62.5 L88.5,62.5 Q100.5,62.5,100.5,50.5" class="style0"/>
		<use id="p_scc" xlink:href="#p_sc2" transform="translate(100.5,0)"/>
		<text id="t_b14_12d" x="2" y="85" class="style1">
			<tspan class="nmbr">40000</tspan>
			-
			<tspan class="nmbr">100000</tspan>
		</text>
		<text id="t_b10_8d" x="127" y="85" class="style1">
			<tspan class="nmbr">100000</tspan>
			-
			<tspan class="nmbr">140000</tspan>
		</text>
		<rect id="r_b14_12d" x="0.5" y="70.5" width="111" height="20" class="style3"/>
		<rect id="r_b10_8d" x="125.5" y="70.5" width="120" height="20" class="style3"/>
		<line id="l_bmsd1" x1="163.5" y1="91.5" x2="163.5" y2="102.5" class="style0"/>
		<line id="l_bmsd1" x1="63.5" y1="91.5" x2="124.5" y2="114.5" class="style0"/>
		<rect id="r_bmsd" x="125.5" y="103.5" width="220" height="34" class="style3"/>
		<text id="t_bmsd" x="0" y="0" class="style1">
			<tspan x="127" y="114">управление переключением</tspan>
			<tspan x="127" y="130">страниц ОЗУ по адресам</tspan>
		</text>
		<line id="l_b11" x1="113.5" y1="50.5" x2="113.5" y2="139.5" class="style0"/>
		<rect id="r_b11" x="0.5" y="140.5" width="176" height="34" class="style3"/>
		<text id="t_b11d" x="0" y="0" class="style1">
			<tspan x="2" y="152">разрешение записи</tspan>
			<tspan x="2" y="168">в системный регистр</tspan>
		</text>
		<polyline id="pl_b4310" points="288.5,50.5 288.5,62.5 313.5,62.5 313.5,50.5 313.5,62.5 363.5,62.5 363.5,50.5 363.5,62.5 388.5,62.5 388.5,50.5 388.5,139.5" class="style0" />
		<rect id="r_b4310" x="263.5" y="140.5" width="160" height="34" class="style3"/>
		<text id="t_b4310d" x="0" y="0" class="style1">
			<tspan x="265" y="152">разрешение работы</tspan>
			<tspan x="265" y="168">страниц ПЗУ</tspan>
		</text>
	</svg>
	<dl>
		<dt>Разряды <span class="nmbr">14</span> - <span class="nmbr">12</span></dt>
		<dd>
			<p>&nbsp;- определяют номер страницы ОЗУ, подключаемой на адреса <span class="nmbr">40000</span> - <span class="nmbr">100000</span> (см. 
				ниже). </p>
		</dd>
		<dt>Разряд <span class="nmbr">11</span></dt>
		<dd>
			<p>&nbsp;- должен содержать <span class="nmbr">1</span>. </p>
		</dd>
		<dt>Разряды <span class="nmbr">10</span> - <span class="nmbr">8</span></dt>
		<dd>
			<p>&nbsp;- определяют номер страницы ОЗУ, подключаемой на адреса <span class="nmbr">100000</span> - <span class="nmbr">140000</span>. </p>
		</dd>
		<dt>Разряд <span class="nmbr">4</span></dt>
		<dd>
			<p>&nbsp;- разрешает подключение к адресному пространству <span class="nmbr">100000</span> - <span class="nmbr">140000</span> страницы ПЗУ номер <span class="nmbr">3</span>, отключает страницу ОЗУ 
				с соответствующих адресов. </p>
		</dd>
		<dt>Разряд <span class="nmbr">3</span></dt>
		<dd>
			<p>&nbsp;- разрешает подключение к адресному пространству <span class="nmbr">100000</span> - <span class="nmbr">140000</span> страницы ПЗУ номер <span class="nmbr">2</span>, отключает страницу ОЗУ. </p>
		</dd>
		<dt>Разряд <span class="nmbr">1</span></dt>
		<dd>
			<p>&nbsp;- разрешает подключение к адресному пространству <span class="nmbr">100000</span> - <span class="nmbr">140000</span> страницы ПЗУ номер <span class="nmbr">1</span>, отключает страницу ОЗУ. </p>
		</dd>
		<dt>Разряд <span class="nmbr">0</span></dt>
		<dd>
			<p>&nbsp;- разрешает подключение к адресному пространству <span class="nmbr">100000</span> - <span class="nmbr">140000</span> страницы ПЗУ номер <span class="nmbr">0</span>, отключает страницу ОЗУ. </p>
		</dd>
	</dl>
	<p>Кодировка переключаемых страниц ОЗУ: </p>
	<table>
		<tr>
			<th>Бит</th>
			<th><span class="nmbr">14</span></th>
			<th><span class="nmbr">13</span></th>
			<th><span class="nmbr">12</span></th>
			<th></th>
		</tr>
		<tr>
			<th></th>
			<th>(<span class="nmbr">10</span></th>
			<th><span class="nmbr">9</span></th>
			<th><span class="nmbr">8</span>)</th>
			<th></th>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td>страница <span class="nmbr">0</span> (постоянно отображена <span class="nmbr">0</span>...<span class="nmbr">40000</span>)</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td>страница <span class="nmbr">1</span></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td>страница <span class="nmbr">2</span></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td>страница <span class="nmbr">3</span></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td>страница <span class="nmbr">4</span></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td>страница <span class="nmbr">5</span> (буфер экрана <span class="nmbr">0</span>)</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td>страница <span class="nmbr">6</span> (буфер экрана <span class="nmbr">1</span>)</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td class="centr"><span class="nmbr">0</span></td>
			<td class="centr"><span class="nmbr">1</span></td>
			<td>страница <span class="nmbr">7</span> (системная страница)</td>
		</tr>
	</table>
	<p><br>
	</p>
	<p><span class="attnt">ПРИМЕЧАНИЕ</span>. Запись в регистр возможна только при 
		установленном <span class="nmbr">11</span>-м бите, только по командам, работающим 
		с регистром, как с целым словом. </p>
	<dl>
		<dt>Страницы <span class="nmbr">0</span>, <span class="nmbr">1</span> и <span class="nmbr">2</span> ПЗУ зарезервированы:</dt>
		<dd>
			<p>страница <span class="nmbr">0</span> и адресное пространство <span class="nmbr">100000</span> - <span class="nmbr">117777</span> страницы <span class="nmbr">1</span> предназначены для ПЗУ языка программирования 
				BASIC. В адресах <span class="nmbr">120000</span> - <span class="nmbr">137777</span> страницы <span class="nmbr">1</span> расположены программы БОС. Адреса <span class="nmbr">100000</span> - <span class="nmbr">117777</span> страницы <span class="nmbr">2</span> предназначены для ПЗУ драйвера локальной сети. 
				Страница <span class="nmbr">3</span> ПЗУ предназначена для подключения внешних 
				блоков ПЗУ к магистрали ЭВМ. </p>
		</dd>
	</dl>
	<h4 id="_ref_p1263">1.2.6.3. Регистр управления магнитофоном</h4>
	<p>Формат регистра: </p>
	<svg id="r1263" height="162" width="442">
		<rect id="r_cell2" x="0.5" y="24.5" width="25" height="24" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell2" transform="translate (25.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell2" transform="translate (50.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell2" transform="translate (75.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell2" transform="translate(100.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell2" transform="translate(125.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell2" transform="translate(150.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell2" transform="translate(175.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell2" transform="translate(200.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell2" transform="translate(225.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell2" transform="translate(250.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell2" transform="translate(275.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell2" transform="translate(300.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell2" transform="translate(325.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell2" transform="translate(350.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell2" transform="translate(375.5,0)"/>
		<text id="t_bit15"  x="13" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="38" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="63" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12"  x="88" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="113" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="138" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="163" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="188" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="213" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="238" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="263" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="288" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="313" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="338" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="363" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="388" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<text id="t_bc15"  x="13" y="40" class="style2">.</text>
		<text id="t_bc14"  x="38" y="40" class="style2">.</text>
		<text id="t_bc13"  x="63" y="40" class="style2">.</text>
		<text id="t_bc12"  x="88" y="40" class="style2">X</text>
		<text id="t_bc11" x="113" y="40" class="style2">
			<tspan class="nmbr">0</tspan>
		</text>
		<text id="t_bc10" x="138" y="40" class="style2">.</text>
		<text id="t_bc09" x="163" y="40" class="style2">.</text>
		<text id="t_bc08" x="188" y="40" class="style2">.</text>
		<text id="t_bc07" x="213" y="40" class="style2">X</text>
		<text id="t_bc06" x="238" y="40" class="style2">X</text>
		<text id="t_bc05" x="263" y="40" class="style2">X</text>
		<text id="t_bc04" x="288" y="40" class="style2">.</text>
		<text id="t_bc03" x="313" y="40" class="style2">.</text>
		<text id="t_bc02" x="338" y="40" class="style2">X</text>
		<text id="t_bc01" x="363" y="40" class="style2">.</text>
		<text id="t_bc00" x="388" y="40" class="style2">.</text>
		<line id="l_b12" x1="88.5" y1="50.5" x2="88.5" y2="69.5" class="style0"/>
		<rect id="r_b12d" x="0.5" y="70.5" width="168" height="34" class="style3"/>
		<text id="t_b12d" x="2" y="85" class="style1">
			<tspan x="2" y="85">блокировка клавиши</tspan>
			<tspan x="2" y="101">&quot;стоп&quot;</tspan>
		</text>
		<polyline id="pl_b7" points="213.5,50.5 213.5,122.5 193.5,122.5" class="style0" />
		<rect id="r_b7" x="0.5" y="114.5" width="194" height="34" class="style3"/>
		<text id="t_b7d" x="0" y="0" class="style1">
			<tspan x="2" y="126">управление двигателем</tspan>
			<tspan x="2" y="142">магнитофона</tspan>
		</text>
		<polyline id="pl_b652" points="238.5,50.5 238,62.5 263.5,62.5 263.5,50.5 263.5,62.5 338.5,62.5 338.5,50.5 338.5,113.5" class="style0" />
		<rect id="r_b652" x="260.5" y="114.5" width="120" height="34" class="style3"/>
		<text id="t_b652d" x="0" y="0" class="style1">
			<tspan x="262" y="126">данные записи</tspan>
			<tspan x="262" y="142">на магнитофон</tspan>
		</text>
	</svg>
	<p>Регистр доступен только по записи при значении разряда <span class="nmbr">11</span> равном &quot;<span class="nmbr">0</span>&quot;. </p>
	<h2 id="_ref_p13">1.3. Особенности выполнения команд</h2>
	<p>Система команд микроЭВМ соответствует системе команд ЭВМ &quot;ЭЛЕКТРОНИКА - 60&quot; 
		и определяется применяемым процессором 1801ВМ1. </p>
	<p>Однако в связи с рядом особенностей архитектуры существуют некоторые отличия 
		от ЭВМ семейств СМ ЭВМ, ЭЛЕКТРОНИКА-60, ЭЛЕКТРОНИКА-85 и ДВК. </p>
	<p>Команда <span class="cmds">HALT</span> (код <span class="opcd">000000</span>) 
		вызывает прерывание выполнения программы и переход по вектору прерывания <span class="nmbr">4</span>, причём при этом устанавливается бит - признак записи 
		в системный регистр. БОС различает обычное прерывание по <span class="nmbr"> 4</span> вектору и останов. Программа пользователя имеет возможность перехватить 
		только обычное прерывание по <span class="nmbr">4</span> вектору. При останове 
		произойдёт переход в монитор БОС с выводом на экран содержимого счётчика команд 
		ЭВМ. Следует заметить, что правильная обработка клавиши <i>&quot;стоп&quot;</i> возможна 
		только при корректном значении указателя стека. Кроме этого, из-за особенностей 
		аппаратуры может выдаваться неправильное значение счётчика команд. В некоторых 
		случаях (нажатие <i>&quot;стоп&quot;</i> во время выполнения запроса БОС) невозможно продолжение 
		программы по команде <b>&quot;P&quot;</b>. Исходя из сказанного, клавишей <i>&quot;стоп&quot;</i> следует пользоваться очень осторожно. </p>
	<h2 id="_ref_p14">1.4. Вектора прерываний и зарезервированные ячейки БОС</h2>
	<p>Обработка прерываний в ЭВМ производится по векторам, размещённым в области <span class="nmbr">0</span> - <span class="nmbr">376</span>. Некоторые ячейки 
		этой области используются БОС для внутренних целей. </p>
	<dl>
		<dt><span class="nmbr">4</span>, <span class="nmbr">6</span></dt>
		<dd>
			<p>- вектор прерывания по ошибке обращения к каналу, команде <span class="cmds">HALT</span> и клавише <i>&quot;стоп&quot;</i>; </p>
		</dd>
		<dt><span class="nmbr">10</span>, <span class="nmbr">12</span></dt>
		<dd>
			<p>- вектор прерывания по несуществующей команде (в БОС не используется); </p>
		</dd>
		<dt><span class="nmbr">14</span>,<span class="nmbr"> 16</span></dt>
		<dd>
			<p>- вектор прерывания по команде <span class="cmds">BPT</span> и <span class="symb">Т</span>-БИТУ (используется при нажатии клавиши <i>&quot;ШАГ&quot;</i>); </p>
		</dd>
		<dt><span class="nmbr">20</span>, <span class="nmbr">22</span></dt>
		<dd>
			<p>- вектор прерывания по команде <span class="cmds">IOT</span> (не используется); </p>
		</dd>
		<dt><span class="nmbr">24</span>, <span class="nmbr">26</span></dt>
		<dd>
			<p>- вектор прерывания по аварии питания (не используется); </p>
		</dd>
		<dt><span class="nmbr">30</span>, <span class="nmbr">32</span></dt>
		<dd>
			<p>- вектор прерывания по команде <span class="cmds">EMT</span>; </p>
		</dd>
		<dt><span class="nmbr">34</span>, <span class="nmbr">36</span></dt>
		<dd>
			<p>- вектор прерывания по команде <span class="cmds">TRAP</span> (не используется); </p>
		</dd>
		<dt><span class="nmbr">40</span></dt>
		<dd>
			<p>- адрес пуска по команде монитора <b>&quot;G&quot;</b> (используется при операциях 
				с магнитофоном); </p>
		</dd>
		<dt><span class="nmbr">52</span> (младший байт)</dt>
		<dd>
			<p>код возврата системных вызовов; </p>
		</dd>
		<dt><span class="nmbr">60</span>, <span class="nmbr">62</span></dt>
		<dd>
			<p>- вектор прерывания клавиатуры (алфавитно-цифровые и управляющие коды); </p>
		</dd>
		<dt><span class="nmbr">100</span>, <span class="nmbr">102</span></dt>
		<dd>
			<p>- вектор прерывания таймера; </p>
		</dd>
		<dt><span class="nmbr">110</span>, <span class="nmbr">112</span></dt>
		<dd>
			<p>- программный вектор клавиатуры (адрес пользовательской программы завершения); </p>
		</dd>
		<dt><span class="nmbr">114</span></dt>
		<dd>
			<p>- копия по записи системного регистра (управление памятью); </p>
		</dd>
		<dt><span class="nmbr">116</span></dt>
		<dd>
			<p>- копия по записи системного регистра (управление магнитофоном); </p>
		</dd>
		<dt><span class="nmbr">150</span>-<span class="nmbr">156</span>, <span class="nmbr">164</span>, <span class="nmbr">250</span>, <span class="nmbr">252</span></dt>
		<dd>
			<p>- используются для внутренних нужд БОС; </p>
		</dd>
		<dt><span class="nmbr">166</span></dt>
		<dd>
			<p>- используется в качестве псевдовектора <span class="cmds">EMT</span> для перехвата пользовательской программой команд <span class="cmds">EMT</span>, 
				не обработанных БОС; </p>
		</dd>
		<dt><span class="nmbr">270</span>, <span class="nmbr">272</span></dt>
		<dd>
			<p>- вектор прерывания параллельного порта; </p>
		</dd>
		<dt><span class="nmbr">274</span>, <span class="nmbr">276</span></dt>
		<dd>
			<p>- вектор прерывания клавиатуры (регистр <i>АР2</i> и функциональные клавиши). </p>
		</dd>
	</dl>
	<h1 id="_ref_p2">2. Функции базовой операционной системы</h1>
	<p>БОС состоит из следующих программ: </p>
	<ol>
		<li>программа начального пуска; </li>
		<li>клавиатурный монитор; </li>
		<li>таблица системных вызовов; </li>
		<li>обработчик команд <span class="cmds">EMT</span>; </li>
		<li>драйвер ОЗУ/ПЗУ; </li>
		<li>драйвер клавиатуры; </li>
		<li>драйвер экрана; </li>
		<li>драйвер кассетного магнитофона; </li>
		<li>драйвер принтера; </li>
		<li>драйвер накопителя на ГМД. </li>
	</ol>
	<h2 id="_ref_p21">2.1 Программа начального пуска</h2>
	<p>Программа начального пуска предназначена для инициализации БОС при включении 
		ЭВМ, определения конфигурации ЭВМ и запуска других программ. </p>
	<p>При включении ЭВМ программа определяет наличие дополнительных блоков ПЗУ, 
		устанавливая соответствующие флаги. Если в момент пуска нажата и удерживается 
		какая-либо клавиша на клавиатуре, программа начального пуска передаёт управление 
		клавиатурному монитору. Если ни одна клавиша не нажата,производятся следующие 
		действия: если к ЭВМ подключён контроллер НГМД, программа начального пуска вызывает 
		дисковый загрузчик,расположенный в контроллере НГМД по адресу <span class="nmbr">160000</span>. Дисковый загрузчик поочерёдно пытается загрузить 
		операционную систему (ОС) с <span class="nmbr">0</span>, <span class="nmbr"> 1</span> привода. Если все попытки оказались неудачными (в дисковод не вставлена 
		дискета с ОС, дискета запорчена и т.д.), загрузчик возвращает управление программе 
		начального пуска. Затем программа поочерёдно пытается запустить блоки ПЗУ, начиная 
		с блока с наибольшим номером. Первое слово программы в ПЗУ должно быть командой <span class="cmds">NOP</span> (код <span class="opcd">240</span>). Вызов ПЗУ 
		производится командой <span class="cmds">JSR</span> <span class="regn">PC</span>, 
		поэтому программа в ПЗУ может вернуть управление программе начального пуска 
		командой <span class="cmds">RTS</span> <span class="regn">PC</span> для продолжения 
		загрузки. Если программ в ПЗУ нет или они вернули управление, производится переход 
		в клавиатурный монитор. </p>
	<h2 id="_ref_p22">2.2 Клавиатурный монитор</h2>
	<p>Клавиатурный монитор является программой,работающей в диалоге с пользователем 
		ЭВМ, и позволяет ему загружать программы с магнитной ленты, запускать программы 
		на выполнение, просматривать и корректировать содержимое ячеек ОЗУ, регистров 
		процессора и внешних устройств, записывать участки ОЗУ на магнитную ленту, загружать 
		операционную систему с диска и т.д. </p>
	<p>Все эти функции выполняются пользователем при помощи команд монитора. </p>
	<p>Язык команд монитора максимально приближен ко входному языку режима пультового 
		терминала ЭВМ &quot;ЭЛЕКТРОНИКА-60&quot; и &quot;ДВК&quot;. </p>
	<h3 id="_ref_p221">2.2.1. Команды монитора</h3>
	<p>Признаком готовности монитора к приёму очередной команды оператора является 
		символ <b>&quot;@&quot;</b> в первой позиции строки экрана. Числа вводятся в восьмеричной 
		системе счисления. Набирать незначащие нули необязательно. </p>
	<dl>
		<dt><b>XXXXXX/</b></dt>
		<dd>
			<p>&nbsp;- открыть ячейку с восьмеричным адресом <i>XXXXXX</i>.</p>
		</dd>
	</dl>
	<p>По этой команде на экран выводится восьмеричное содержимое ячейки ОЗУ, ПЗУ 
		или регистра внешнего устройства с адресом <i>XXXXXX</i>. Если такой регистр 
		отсутствует или страница ОЗУ не подключена к заданному адресу, выводится сообщение 
		об ошибке - символ <b>&quot;?&quot;</b> и команда игнорируется. </p>
	<dl>
		<dt><b>XXXXXX\</b></dt>
		<dd>
			<p>&nbsp;- открыть байт с адресом <i>XXXXXX</i>. </p>
		</dd>
	</dl>
	<p>Содержимое байта или слова можно изменить, введя восьмеричное число (новое 
		содержимое) и подав одну из команд: <i>&quot;ВВОД&quot;</i> (клавиша <img alt="" height="20" src="/img/kbd/kbenter.png" width="35">), <i>&quot;открыть 
		следующую ячейку&quot;</i>, <i>&quot;открыть предыдущую ячейку&quot;</i>, <i>&quot;открыть косвенно&quot;</i>, <i>&quot;открыть по смещению&quot;</i>. </p>
	<dl>
		<dt><b>RX/</b></dt>
		<dd>
			<p><b>&nbsp;</b>- открыть регистр <i><span class="labl">X</span></i>, где <i><span class="labl">X</span></i> = <span class="nmbr">0</span>...<span class="nmbr">7</span> или <i>&quot;S&quot;</i>. Открывает регистр общего назначения процессора (<span class="regn">R0</span> - <span class="regn">R7</span>) или регистр состояния процессора (<span class="regn">RS</span>). </p>
		</dd>
	</dl>
	<p>Команды <b>&quot;/&quot;</b> и <b>&quot;\&quot;</b> без аргумента открывают &quot;текущую&quot;, то есть 
		последнюю открывавшуюся ячейку. </p>
	<dl>
		<dt><b>&quot;ВВОД&quot;</b> (<img alt="" height="20" src="/img/kbd/kbenter.png" width="35">)</dt>
		<dd>
			<p>&nbsp;- закрыть слово, байт или регистр. Если пользователем было введено 
				новое содержимое, оно будет записано. </p>
		</dd>
		<dt><b>&quot;<img alt="" height="20" src="/img/kbd/kbdn.png" width="23">&quot;</b></dt>
		<dd>
			<p>&nbsp;- закрыть слово, байт или регистр (если надо, модифицировать содержимое 
				как по команде <i>&quot;ВВОД&quot;</i>) и открыть следующее слово, байт или регистр 
				(при этом печатается адрес открываемой ячейки). После ячейки с адресом <span class="nmbr">177777</span> открывается ячейка <span class="nmbr">000000</span>, 
				после <span class="regn">R7</span> - <span class="regn">R0</span>, после <span class="regn">RS</span> - команда работает, как команда <i>&quot;ВВОД&quot;</i>. </p>
		</dd>
		<dt><b>&quot;<img alt="" height="20" src="/img/kbd/kbup.png" width="23">&quot;</b></dt>
		<dd>
			<p>&nbsp;- закрыть (с модификацией) и открыть предыдущее слово, байт, регистр. </p>
		</dd>
		<dt><b>&quot;<img alt="" height="20" src="/img/kbd/kbrt.png" width="23">&quot;</b></dt>
		<dd>
			<p>&nbsp;- закрыть (с модификацией) ячейку, вычислить адрес по формуле: </p>
			<div class="icode"> АДРЕС = &lt; АДРЕС ТЕКУЩЕЙ ЯЧЕЙКИ &gt; + её новое содержимое + 2</div>
			<p>и открыть (как слово) ячейку с соответствующим адресом. Эта команда используется 
				для открытия аргумента команды ЭВМ, использующей метод адресации &quot;<span class="nmbr">67</span>&quot;. </p>
		</dd>
		<dt><b>&quot;<img alt="" height="20" src="/img/kbd/kblt.png" width="23">&quot;</b></dt>
		<dd>
			<p>&nbsp;- закрыть (с модификацией) ячейку, вычислить адрес по формуле: </p>
			<div class="icode"> АДРЕС = &lt; АДРЕС ЯЧЕЙКИ &gt; + &lt; СОДЕРЖИМОЕ МЛАДШЕГО БАЙТА &gt; * 2 + 2</div>
			<p>и открыть (как слово) ячейку с соответствующим адресом. </p>
		</dd>
	</dl>
	<p>Содержимое байта рассматривается как число со знаком. Команда используется 
		для открытия ячейки, на которую выполняется переход по команде типа &quot;<span class="cmds">BR</span>&quot;. </p>
	<dl>
		<dt><b>&quot;@&quot;</b></dt>
		<dd>
			<p>&nbsp;- закрыть (с модификацией) ячейку, открыть ячейку по адресу, равному 
				(новому) содержимому закрытой ячейки. </p>
		</dd>
		<dt><b>N;MC</b></dt>
		<dd>
			<p>&nbsp;-отобразить страницу номер <i>&quot;N&quot;</i> с адреса, задаваемого аргументом <i>&quot;M&quot;</i>. Страницы с восьмеричными номерами <span class="nmbr">10</span>, <span class="nmbr">11</span>, <span class="nmbr">12</span>, <span class="nmbr">13</span> относятся к страницам ПЗУ <span class="nmbr">0</span>, <span class="nmbr">1</span>, <span class="nmbr">2</span>, и <span class="nmbr">3</span> соответственно. 
				Значение <i>&quot;M&quot;</i>, равное нулю, означает адреса <span class="nmbr">40000</span>-<span class="nmbr">100000</span>, 
				равное &quot;<span class="nmbr">1</span>&quot; - адреса <span class="nmbr">100000</span>-<span class="nmbr">140000</span>. </p>
		</dd>
		<dt><b>XXXB</b></dt>
		<dd>
			<p>- загрузить операционную систему с НГМД номер <i>XXX</i> и запустить 
				ее. Если номер не задан, производится загрузка с автоматическим поиском 
				системного диска. </p>
		</dd>
		<dt><b>XXXXXXL</b></dt>
		<dd>
			<p>&nbsp;- загрузить с адреса <i>XXXXXX</i> двоичный файл с магнитной ленты. 
				Если адрес не задан, загрузка осуществляется с адреса, заданного в заголовке 
				файла. </p>
		</dd>
	</dl>
	<p>Базовая операционная система поддерживает формат записи на магнитной ленте, 
		совместимый с ЭВМ БК - 0010. </p>
	<p>После выдачи этой команды на экран выдаётся вопрос <i>&quot;имя файла?&quot;</i>. Оператор 
		должен ввести имя файла на магнитной ленте длиной до <span class="nmbr">16</span> символов. </p>
	<p>Если необходимо просмотреть каталог ленты,необходимо ввести <b>&quot;?&quot;</b> вместо 
		имени файла. Если нажать клавишу <i>&quot;ВВОД&quot;</i> без ввода имени, будет загружен 
		первый встретившийся файл. </p>
	<dl>
		<dt><b>&lt;ОБЛАСТЬ&gt;;U</b></dt>
		<dd>
			<p>&nbsp;- вывести в файл информацию из ОЗУ. &lt;ОБЛАСТЬ&gt; - конструкция вида <b>&quot;XXXXXX-YYYYYY&quot;</b>, где <i>XXXXXX</i> и <i>YYYYYY</i> - начальный и 
				конечный (включительно) адреса записываемой области ОЗУ, или вида <b>&quot;XXXXXX+YYYYYY&quot;</b>, 
				где <i>XXXXXX</i> - начальный адрес записываемой области ОЗУ, а <i>YYYYYY</i> - длина в байтах. После выдачи команды задаётся вопрос &quot;имя?&quot;, на который 
				оператор должен ввести имя файла, который он хочет записать на ленту. </p>
		</dd>
		<dt><b>XXXXXXM</b></dt>
		<dd>
			<p>&nbsp;- включить/выключить двигатель магнитофона (используется при перемотке). 
				Если <i>XXXXXX</i> не равно <span class="nmbr">0</span>, двигатель включается, 
				иначе выключается. Отсутствие аргумента соответствует нулевому. </p>
		</dd>
		<dt><b>XXXXXXG</b></dt>
		<dd>
			<p>&nbsp;- запустить программу с адреса <i>XXXXXX</i>. При отсутствии аргумента 
				запуск производится со стартового адреса программы, который должен содержаться 
				в ячейке <span class="labl">USERPC</span> (адрес <span class="nmbr">000040</span>). </p>
		</dd>
		<dt><b>P</b></dt>
		<dd>
			<p>&nbsp;- продолжить выполнение программы с адреса, на котором оно было 
				прервано командой &quot;<span class="cmds">HALT</span>&quot; или клавишей <i>&quot;стоп&quot;</i>. </p>
		</dd>
		<dt><b>&quot;ШАГ&quot;</b></dt>
		<dd>
			<p>&nbsp;- выполнить одну команду программы и вернуться в монитор. </p>
		</dd>
		<dt><b>&quot;<img alt="" height="20" src="/img/kbd/kbbs.png" width="35">&quot;</b> (забой)</dt>
		<dd>
			<p>&nbsp;- аннулировать последнюю введённую цифру. Другие символы не аннулируются. 
				Команда не выполняется, если вводимое число = <span class="nmbr">0</span>. </p>
		</dd>
		<dt><b>&quot;СУ/E&quot;</b></dt>
		<dd>
			<p>&nbsp;- переход в непосредственный режим. Используется для настройки 
				драйвера экрана. В драйвер экрана передаётся символ <i>ESC</i> (код <span class="nmbr">33</span>), после чего монитор все вводимые символы передаёт 
				драйверу экрана. Монитор остаётся в непосредственном режиме до ввода комбинации <b>&quot;СУ/@&quot;</b>. <i>ESC</i> - последовательности, воспринимаемые драйвером 
				экрана, см. в приложении <span class="nmbr">2</span>. </p>
		</dd>
	</dl>
	<p>Пример: </p>
	<ul>
		<li><b>СУ/E</b> <span class="nmbr">0</span> <b>СУ/@</b> - установка цветного 
			режима. </li>
		<li><b>СУ/E</b> ; <span class="nmbr">2</span> <span class="nmbr">1</span> <b>СУ/@</b> - установка цвета фона <span class="nmbr">2</span> и цвета символов <span class="nmbr">1</span>. </li>
	</ul>
	<h2 id="_ref_p23">2.3. Таблица системных вызовов</h2>
	<p>Таблица системных вызовов располагается в ПЗУ, начиная с адреса <span class="nmbr">140010</span> и является массивом адресов программ - обработчиков 
		системных вызовов. Вызов функции БОС производится командой: </p>
	<pre>      <span class="cmds">JSR</span> <span class="regn">PC</span> , @<span class="labl">ADDR</span></pre>
	<p class="contn">где <span class="labl">ADDR</span> - адрес одного из слов таблицы, 
		например </p>
	<pre>      <span class="cmds">JSR</span> <span class="regn">PC</span> , @<span class="nmbr">140010</span></pre>
	<p>Для передачи параметров используется <span class="regn">R0</span> процессора, 
		а в некоторых случаях и <span class="regn">R1</span>. При возврате из БОС содержимое 
		регистров процессора сохраняется, за исключением особо оговорённых случаев.Содержимое 
		таблицы рассматривается ниже. </p>
	<h2 id="_ref_p24">2.4. Диспетчер <span class="cmds">EMT</span></h2>
	<p>Диспетчер <span class="cmds">EMT</span> позволяет наряду со способом вызова 
		по <span class="cmds">JSR</span> использовать команды <span class="cmds">EMT</span>. 
		Способ передачи параметров совпадает с вызовами <span class="cmds">JSR</span>.При 
		обработке команды <span class="cmds">EMT</span> с номером, превышающим допустимый, 
		диспетчер проверяет содержимое ячейки <span class="nmbr">166</span>. Если оно 
		не равно нулю, управление передаётся по адресу, находящемуся в этой ячейке. 
		Регистр <span class="regn">PS</span> процессора устанавливается в соответствии 
		с содержимым <span class="nmbr">32</span> ячейки. Возврат из пользовательского 
		обработчика производится непосредственно в вызвавшую программу командой RTI. </p>
	<p>Достоинства использования <span class="cmds">EMT</span>: </p>
	<ul>
		<li>позиционная независимость; </li>
		<li>меньший объем кода; </li>
	</ul>
	<p>Недостатки: </p>
	<ul>
		<li>пользовательская программа не может использовать <span class="cmds"> EMT</span> с младшими номерами для своих нужд; </li>
		<li>вызовы по <span class="cmds">EMT</span> выполняются медленнее; </li>
		<li>при некоторых условиях, возникающих при выполнении <span class="cmds">EMT</span> и вызывающих переход в монитор (клавиша <i> &quot;СТОП&quot;</i>, неверный вызов <span class="pscm">.BJMP</span> и <span class="pscm">.BJSR</span>), выводится адрес, принадлежащий не программе, 
			а диспетчеру <span class="cmds">EMT</span>. </li>
	</ul>
	<h2 id="_ref_p25">2.5. Драйвер ОЗУ/ПЗУ</h2>
	<p>Драйвер ОЗУ/ПЗУ позволяет подключать по запросу пользовательской программы 
		заданные страницы ОЗУ/ПЗУ, определять состояние памяти и страниц, читать и записывать 
		слова, байты и массивы слов в скрытые страницы, обращаться к подпрограммам, 
		находящимся в скрытых страницах, а также обеспечивает защиту системной страницы. </p>
	<h2 id="_ref_p26">2.6. Драйвер клавиатуры</h2>
	<p>Драйвер клавиатуры обеспечивает приём символов с клавиатуры, перекодировку 
		символов в соответствии с таблицами КОИ-8, КОИ-7Н0, КОИ-7Н1, КОИ-7Н2, запись 
		символов во внутренний буфер, выдачу по запросу и по прерыванию символов в программу 
		пользователя с ожиданием и без, программирование и подстановку функциональных 
		клавиш, автоповтор последнего символа, редактирование вводимой и существующей 
		строки, акустическую обратную связь при нажатии на клавиши. Драйвер может работать 
		в двух режимах: прямом, когда коды функциональных клавиш передаются в программу 
		без изменений, и режиме перекодировки, в котором некоторые функциональные клавиши 
		выдают другие коды (см. <a href="#_ref_app1">приложение <span class="nmbr">1</span></a>). </p>
	<h2 id="_ref_p27">2.7. Драйвер экрана</h2>
	<p>Драйвер экрана обеспечивает вывод на экран символьной, псевдографической 
		и графической информации, стирание экрана, сдвиг вверх и вниз, управление цветами 
		и палитрами, переключение буферов экрана, управление курсором. </p>
	<p>Вывод символьной и графической информации возможен в трех режимах: </p>
	<ul>
		<li><span class="nmbr">256</span> точек в строке, <span class="nmbr">4</span> цвета, <span class="nmbr">32</span> символа в строке, </li>
		<li><span class="nmbr">512</span> точек в строке, <span class="nmbr">2</span> цвета, <span class="nmbr">64</span> символа в строке, </li>
		<li><span class="nmbr">512</span> точек в строке, <span class="nmbr">2</span> цвета, <span class="nmbr">80</span> символов в строке. </li>
	</ul>
	<p>Вывод алфавитно-цифровой информации производится в соответствии с одной из 
		таблиц: КОИ-8,КОИ-7Н0, КОИ-7Н1, КОИ-7Н2. Знакогенератор символов располагается 
		в системной странице ОЗУ, начиная со смещения <span class="nmbr">10000</span>. 
		Хотя системная страница не может быть подключена, область знакогенератора доступна 
		по чтению и записи с помощью запросов драйвера ОЗУ/ПЗУ. Описание каждого символа 
		состоит из <span class="nmbr">10</span> байт, соответствующих телевизионным 
		строкам. Байт с младшим адресом соответствует верхней строке символа, младший 
		бит байта -левой точке в строке. Таблица начинается с изображения символа с 
		восьмеричным кодом <span class="nmbr">040</span>.Далее подряд идут изображения 
		символов с кодами от <span class="nmbr">041</span> до <span class="nmbr">377</span>. 
		При начальном пуске ЭВМ в ОЗУ переписывается стандартный знакогенератор из ПЗУ. 
		Программа пользователя может заменить любую часть знакогенератора. </p>
	<p>В режиме <span class="nmbr">80</span> символов в строке на экран выводятся 
		первые <span class="nmbr">6</span> бит каждого байта. </p>
	<p>На экране может быть отображён алфавитно-цифровой курсор, указывающий позицию 
		текущего символьного вывода, возможны две формы курсора: в виде прямоугольника, 
		инвертирующего изображение символа, на котором находится курсор и в виде подчёркивания 
		символа. </p>
	<p>При выводе в последней строке символа ПС (код <span class="nmbr">12</span>) 
		или ПФ (код <span class="nmbr">14</span>) сдвиг экрана вверх может производиться 
		либо скачком либо плавно. </p>
	<p>Возможно задание атрибутов выводимых символов: двойная ширина, подчёркивание, 
		инверсия, возможен также вывод символов двойной высоты в <span class="nmbr"> 2</span> приёма: сначала выводится верхняя часть буквы, затем курсор позиционируется 
		на строку ниже в той же позиции и выводится нижняя часть буквы. Двойная высота 
		может сочетаться с любой шириной, подчёркивание символов двойной высоты не производится. </p>
	<p>При выводе на экран графической информации возможны два режима работы: с 
		замещением текущим цветом или с инверсией существующего цвета, а также задание 
		прямоугольного окна для отсечения его по границам. </p>
	<h2 id="_ref_p28">2.8. Драйвер кассетного магнитофона</h2>
	<p>Драйвер кассетного магнитофона обеспечивает поиск, запись и считывание файлов 
		с бытового кассетного магнитофона в формате, совместимом с БК - 0010. </p>
	<h2 id="_ref_p29">2.9. Драйвер принтера</h2>
	<p>Драйвер принтера обеспечивает вывод на печатающее устройство алфавитно-цифровой 
		информации с перекодировкой по таблицам КОИ-8, КОИ-7Н0, КОИ-7Н1, КОИ-7Н2, определение 
		готовности ПУ, отслеживание позиции печатающей головки. </p>
	<h2 id="_ref_p210">2.10. Драйвер НГМД</h2>
	<p>Драйвер НГМД обеспечивает запись и считывание информации с гибких магнитных 
		дисков в формате, совместимом с контроллером КМД от ДВК-3, а также форматирование 
		дискет. </p>
	<h1 id="_ref_p3">3. Описание системных запросов БОС</h1>
	<p>В этой главе содержится краткое и подробное описание запросов БОС БК-0011М. 
		Для облегчения программирования на языке Ассемблера под управлением операционной 
		системы ОС БК-11, поставляется макробиблиотека, содержащая макроопределения 
		системных вызов. При описании функций БОС приводится <span class="nmbr">2</span> формата вызовов: макрокоманда и макрорасширение, которое может использоваться 
		при программировании без макробиблиотеки. По умолчанию используются команды <span class="cmds">JSR</span>. Для использования <span class="cmds">EMT</span> следует присвоить служебной переменной ...<span class="cmds">EMT</span> значение, 
		отличное от нуля. </p>
	<p>БОС поддерживает следующие вызовы: </p>
	<table class="border" width="100%">
		<tr>
			<th>Имя</th>
			<th>Вызов через<br>
				<span class="cmds">JSR</span></th>
			<th>Вызов через<br>
				<span class="cmds">EMT</span></th>
			<th>Адрес</th>
			<th>Описание</th>
		</tr>
		<tr>
			<td><a href="#_ref_p311"><span class="pscm">.BINIT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140010</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">0</span></td>
			<td><span class="nmbr">150414</span></td>
			<td>инициализация БОС;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p312"><span class="pscm">.BEXIT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140012</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">1</span></td>
			<td><span class="nmbr">147712</span></td>
			<td>выход в клавиатурный монитор;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p313"><span class="pscm">.BTRPS</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140014</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">2</span></td>
			<td><span class="nmbr">147742</span></td>
			<td>перехват <span class="nmbr">4</span> вектора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p314"><span class="pscm">.BTIM</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140016</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">3</span></td>
			<td><span class="nmbr">150070</span></td>
			<td>управление таймером;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p314"><span class="pscm">.BEMT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140020</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">4</span></td>
			<td><span class="nmbr">152202</span></td>
			<td>управление обработкой <span class="cmds">EMT</span>;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140022</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140024</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140026</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td><a href="#_ref_p321"><span class="pscm">.BMEM</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140030</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">10</span></td>
			<td><span class="nmbr">150474</span></td>
			<td>чтение состояния памяти;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p322"><span class="pscm">.BTEST</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140032</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">11</span></td>
			<td><span class="nmbr">150504</span></td>
			<td>чтение статуса страницы;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p323"><span class="pscm">.BPAGE</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140034</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">12</span></td>
			<td><span class="nmbr">150514</span></td>
			<td>подключение страницы ОЗУ/ПЗУ;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p324"><span class="pscm">.BWORK</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140036</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">13</span></td>
			<td><span class="nmbr">150530</span></td>
			<td>назначение/чтение рабочей страницы;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p325"><span class="pscm">.BGETW</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140040</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">14</span></td>
			<td><span class="nmbr">150540</span></td>
			<td>чтение слова из рабочей страницы;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p326"><span class="pscm">.BGETB</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140042</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">15</span></td>
			<td><span class="nmbr">150564</span></td>
			<td>чтение байта из рабочей страницы;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p327"><span class="pscm">.BPUTW</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140044</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">16</span></td>
			<td><span class="nmbr">150612</span></td>
			<td>запись слова в рабочую страницу;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p328"><span class="pscm">.BPUTB</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140046</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">17</span></td>
			<td><span class="nmbr">150654</span></td>
			<td>запись байта в рабочую страницу;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p329"><span class="pscm">.BMOVE</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140050</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">20</span></td>
			<td><span class="nmbr">151140</span></td>
			<td>пересылка массива слов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3210"><span class="pscm">.BMOVB</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140052</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">21</span></td>
			<td><span class="nmbr">151156</span></td>
			<td>пересылка массива байтов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3211"><span class="pscm">.BJSR</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140054</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">151006</span></td>
			<td>вызов подпрограммы из рабочей страницы;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3212"><span class="pscm">.BJMP</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140056</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">23</span></td>
			<td><span class="nmbr">151114</span></td>
			<td>переход в рабочую страницу без возврата;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p331"><span class="pscm">.BKINI</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140070</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">30</span></td>
			<td><span class="nmbr">146704</span></td>
			<td>инициализация драйвера клавиатуры;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p332"><span class="pscm">.BKSET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140072</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">31</span></td>
			<td><span class="nmbr">146752</span></td>
			<td>установка режима драйвера клавиатуры;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p333"><span class="pscm">.BKGET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140074</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">32</span></td>
			<td><span class="nmbr">146764</span></td>
			<td>чтение режима драйвера клавиатуры;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p334"><span class="pscm">.BTTIN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140076</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">33</span></td>
			<td><span class="nmbr">147550</span></td>
			<td>ввод символа с ожиданием;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p335"><span class="pscm">.BINKEY</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140100</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">34</span></td>
			<td><span class="nmbr">147406</span></td>
			<td>ввод символа без ожидания;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p336"><span class="pscm">.BGLIN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140102</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">35</span></td>
			<td><span class="nmbr">151336</span></td>
			<td>ввод строки с редактированием;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p337"><span class="pscm">.BEDIT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140104</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">36</span></td>
			<td><span class="nmbr">151266</span></td>
			<td>редактирование существующей строки;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p338"><span class="pscm">.BKRES</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140106</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">37</span></td>
			<td><span class="nmbr">147636</span></td>
			<td>сброс буфера клавиатуры;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p339"><span class="pscm">.BSFUN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140110</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">40</span></td>
			<td><span class="nmbr">147672</span></td>
			<td>установка функциональных клавиш;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3310"><span class="pscm">.BGFUN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140112</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">41</span></td>
			<td><span class="nmbr">147702</span></td>
			<td>чтение функциональных клавиш;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140114</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140116</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140120</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140122</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140124</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140126</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td><a href="#_ref_p341"><span class="pscm">.BTINI</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140130</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">50</span></td>
			<td><span class="nmbr">143456</span></td>
			<td>инициализация драйвера экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p342"><span class="pscm">.BTSET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140132</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">51</span></td>
			<td><span class="nmbr">143446</span></td>
			<td>установка режима драйвера экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p343"><span class="pscm">.BTGET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140134</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">52</span></td>
			<td><span class="nmbr">143434</span></td>
			<td>чтение режима драйвера экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p344"><span class="pscm">.BSCOL</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140136</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">53</span></td>
			<td><span class="nmbr">143274</span></td>
			<td>установка цветов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p345"><span class="pscm">.BGCOL</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140140</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">54</span></td>
			<td><span class="nmbr">143414</span></td>
			<td>чтение цветов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p346"><span class="pscm">.BPAL</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140142</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">55</span></td>
			<td><span class="nmbr">150000</span></td>
			<td>установка/чтение палитры;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p347"><span class="pscm">.BBUF</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140144</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">56</span></td>
			<td><span class="nmbr">143466</span></td>
			<td>переключение буферов экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p348"><span class="pscm">.BSPOS</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140146</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">57</span></td>
			<td><span class="nmbr">143476</span></td>
			<td>установка координат Алфавитно-цифрового курсора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p349"><span class="pscm">.BGPOS</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140150</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">60</span></td>
			<td><span class="nmbr">143560</span></td>
			<td>чтение координат Алфавитно-цифрового курсора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3410"><span class="pscm">.BSCRL</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140152</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">61</span></td>
			<td><span class="nmbr">143572</span></td>
			<td>сдвиг экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3411"><span class="pscm">.BCLS</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140154</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">62</span></td>
			<td><span class="nmbr">143622</span></td>
			<td>очистка экрана;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3412"><span class="pscm">.BTOUT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140156</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">63</span></td>
			<td><span class="nmbr">143070</span></td>
			<td>вывод символа;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3413"><span class="pscm">.BPRIN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140160</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">64</span></td>
			<td><span class="nmbr">143142</span></td>
			<td>вывод строки символов, (формат RT - 11);</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3414"><span class="pscm">.BSTR</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140162</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">65</span></td>
			<td><span class="nmbr">143130</span></td>
			<td>вывод строки символов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3415"><span class="pscm">.BSGRF</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140164</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">66</span></td>
			<td><span class="nmbr">152470</span></td>
			<td>установка текущих графических координат;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3416"><span class="pscm">.BGGRF</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140166</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">67</span></td>
			<td><span class="nmbr">152506</span></td>
			<td>чтение текущих графических координат;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3417"><span class="pscm">.BSCGR</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140170</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">70</span></td>
			<td><span class="nmbr">152524</span></td>
			<td>установка графического цвета;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3418"><span class="pscm">.BGCGR</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140172</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">71</span></td>
			<td><span class="nmbr">152546</span></td>
			<td>чтение графического цвета;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3419"><span class="pscm">.BSMOD</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140174</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">72</span></td>
			<td><span class="nmbr">152564</span></td>
			<td>установка/чтение режима рисования;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3420"><span class="pscm">.BSPNT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140176</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">73</span></td>
			<td><span class="nmbr">152230</span></td>
			<td>вывод графической точки;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3421"><span class="pscm">.BGPNT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140200</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">74</span></td>
			<td><span class="nmbr">152372</span></td>
			<td>чтение цвета графической точки;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3422"><span class="pscm">.BVECT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140202</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">75</span></td>
			<td><span class="nmbr">152460</span></td>
			<td>вывод вектора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3423"><span class="pscm">.BRECT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140204</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">76</span></td>
			<td><span class="nmbr">153424</span></td>
			<td>вывод закрашенного прямоугольника;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3424"><span class="pscm">.BCIRC</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140206</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">77</span></td>
			<td><span class="nmbr">152722</span></td>
			<td>вывод дуги или окружности;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3425"><span class="pscm">.BFILL</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140210</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">100</span></td>
			<td><span class="nmbr">154202</span></td>
			<td>закраска гранично - определённой области;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3426"><span class="pscm">.BSOUN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140212</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">101</span></td>
			<td><span class="nmbr">143636</span></td>
			<td>выдача звука;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3427"><span class="pscm">.BSWIN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140214</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">102</span></td>
			<td><span class="nmbr">153000</span></td>
			<td>установка графического окна;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3428"><span class="pscm">.BGWIN</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140216</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">103</span></td>
			<td><span class="nmbr">153134</span></td>
			<td>чтение графического окна;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140220</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">146404</span></td>
			<td>- секретный вызов</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3429"><span class="pscm">.BSTYP</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140222</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">105</span></td>
			<td><span class="nmbr">152614</span></td>
			<td>установка типа вектора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3430"><span class="pscm">.BGTYP</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140224</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">106</span></td>
			<td><span class="nmbr">152660</span></td>
			<td>чтение типа вектора;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3431"><span class="pscm">.BGOSET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140226</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">107</span></td>
			<td><span class="nmbr">153166</span></td>
			<td>установка/чтение ориентации графических символов;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p3432"><span class="pscm">.BGOUT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140230</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">110</span></td>
			<td><span class="nmbr">153226</span></td>
			<td>графический вывод символа;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140232</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140234</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140236</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td><a href="#_ref_p351"><span class="pscm">.BMOT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140240</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">114</span></td>
			<td><span class="nmbr">154550</span></td>
			<td>управление двигателем магнитофона;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p352"><span class="pscm">.BMB10</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140242</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">115</span></td>
			<td><span class="nmbr">154614</span></td>
			<td>вызов формата БК-0010;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140244</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140246</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140250</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140252</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140254</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140256</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td><a href="#_ref_p361"><span class="pscm">.BPINI</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140260</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">124</span></td>
			<td><span class="nmbr">156560</span></td>
			<td>инициализация драйвера принтера;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p362"><span class="pscm">.BPSET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140262</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">125</span></td>
			<td><span class="nmbr">156612</span></td>
			<td>установка режима печати;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p363"><span class="pscm">.BPGET</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140264</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">126</span></td>
			<td><span class="nmbr">156664</span></td>
			<td>чтение режима печати;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p364"><span class="pscm">.BPOUT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140266</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">127</span></td>
			<td><span class="nmbr">156736</span></td>
			<td>вывод символа на печать;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p365"><span class="pscm">.BPRDY</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140270</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">130</span></td>
			<td><span class="nmbr">156676</span></td>
			<td>определение готовности принтера;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p366"><span class="pscm">.BPPOS</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140272</span></td>
			<td><span class="cmds">EMT</span> <span class="nmbr">131</span></td>
			<td><span class="nmbr">156724</span></td>
			<td>определение позиции печатающей головки;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140274</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140276</span></td>
			<td>&nbsp;</td>
			<td><span class="nmbr">150164</span></td>
			<td>зарезервировано</td>
		</tr>
		<tr>
			<td><a href="#_ref_p371"><span class="pscm">.BABOOT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160000</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>автоматическая загрузка с НГМД;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p372"><span class="pscm">.BBOOT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160002</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>загрузка с выбранного привода НГМД;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p373"><span class="pscm">.BBLCK</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160004</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>чтение/запись по номеру блока;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p374"><span class="pscm">.BSECT</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160006</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>чтение/запись по номерам сектора и дорожки;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p375"><span class="pscm">.BDINI</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160010</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>инициализация драйвера НГМД;</td>
		</tr>
		<tr>
			<td><a href="#_ref_p376"><span class="pscm">.BFORM</span></a></td>
			<td><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160012</span></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>форматирование дорожки НГМД.</td>
		</tr>
	</table>
	<h2 id="_ref_p31">3.1. Общесистемные запросы</h2>
	<h3 id="_ref_p311">3.1.1. Инициализация базовой операционной системы <span class="pscm">.BINIT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BINIT</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140010</span> (<span class="cmds">EMT</span> <span class="nmbr">0</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится инициализация драйверов БОС. </p>
	<p>Драйвер клавиатуры: </p>
	<ul>
		<li>настраиваются вектора прерывания клавиатуры; </li>
		<li>сбрасывается пользовательский вектор обработки клавиатуры; </li>
		<li>разрешаются прерывания от клавиатуры; </li>
		<li>разрешается щелчок при нажатии клавиш; </li>
		<li>сбрасывается буфер ввода с клавиатуры; </li>
		<li>сбрасываются значения функциональных клавиш; </li>
		<li>запрещается перекодировка клавиш; </li>
		<li>устанавливается режим ввода в коде КОИ-8; </li>
	</ul>
	<p>Драйвер экрана: </p>
	<ul>
		<li>устанавливается режим <span class="nmbr">32</span> символа в строке, 
			палитра <span class="nmbr">15</span>, белые символы на чёрном фоне; </li>
		<li>в ОЗУ знакогенератора копируется стандартный из ПЗУ; </li>
		<li>очищаются оба буфера экрана; </li>
		<li>включается запись и отображение буфера <span class="nmbr">0</span>; </li>
		<li>выключается режим двойной ширины и двойной высоты символов; </li>
		<li>выключается режим инверсии и подчёркивания символов; </li>
		<li>выключается режим плавного сдвига экрана; </li>
		<li>включается отображение курсора в виде прямоугольника; </li>
		<li>включается режим нормальной обработки управляющих символов; </li>
	</ul>
	<p>Драйвер магнитофона: </p>
	<ul>
		<li>выключается мотор магнитофона; </li>
	</ul>
	<p>Драйвер принтера: </p>
	<ul>
		<li>на принтер (в случае готовности) посылается символ возврата каретки; </li>
		<li>обнуляется счётчик позиции печатающей головки; </li>
		<li>устанавливается режим вывода в КОИ-8; </li>
	</ul>
	<p>Драйвер НГМД: </p>
	<ul>
		<li>Выключается двигатель накопителя. </li>
	</ul>
	<h3 id="_ref_p312">3.1.2. Выход в клавиатурный монитор <span class="pscm">.BEXIT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BEXIT</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140012</span> (<span class="cmds">EMT</span> <span class="nmbr">1</span>) </pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится выход из программы пользователя в клавиатурный монитор. Настраиваются 
		вектора клавиатуры, при этом возможен возврат в программу пользователя по команде <b>&quot;P&quot;</b>. </p>
	<h3 id="_ref_p313">3.1.3. Перехват вектора <span class="nmbr">4</span> <span class="pscm">.BTRPS</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTRPS</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140014</span> (<span class="cmds">EMT</span> <span class="nmbr">2</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается адрес пользовательской программы для обработки <span class="nmbr">4</span> вектора. Состояние останова (команда <span class="cmds">HALT</span> и клавиша <i>&quot;СТОП&quot;</i>) не перехватывается, 
		в этом случае всегда происходит выход в монитор. Программа обработки должна 
		заканчиваться командой <span class="cmds">RTI</span>. Вызов с нулевым значением 
		аргумента <span class="labl">ADDR</span> отменяет обработку <span class="nmbr">4</span> вектора в пользовательской программе. В обоих случаях 
		вектор <span class="nmbr">4</span> настраивается на обработчик БОС. </p>
	<h3 id="_ref_p314">3.1.4. Управление таймером <span class="pscm">.BTIM</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTIM</span> <span class="labl">ARG</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ARG</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140016</span> (<span class="cmds">EMT</span> <span class="nmbr">3</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Если бит <span class="nmbr">15</span> <span class="labl">ARG</span> равен <span class="nmbr">1</span>, то в <span class="regn">R0</span> возвращается 
		признак: <span class="nmbr">0</span> - таймер выключен, <span class="nmbr">1</span> - таймер включен, если бит <span class="nmbr">15</span> <span class="labl">ARG</span> равен <span class="nmbr">0</span>, то при нулевом значении <span class="labl">ARG</span> происходит выключение таймера, при ненулевом - 
		включение. Перед включением таймера следует подготовить вектор <span class="nmbr">100</span>. </p>
	<h3 id="_ref_p315">3.1.5. Управление обработкой <span class="cmds">EMT</span> <span class="pscm">.BEMT</span></h3>
	<p>Макрокоманда имеет две формы запроса. Первая: </p>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BEMT</span> <span class="rown">ON</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140020
</span></pre></td>
		</tr>
	</table>
	<pre>...<span class="cmds">EMT</span> = <span class="nmbr">1</span></pre>
	<p>Содержимое вектора <span class="cmds">EMT</span> (если оно не равно адресу 
		диспетчера <span class="cmds">EMT</span>) помещается в ячейку <span class="nmbr">166</span> (настраивается пользовательский обработчик <span class="cmds">EMT</span>). Макробиблиотека настраивается на использование 
		команд <span class="cmds">EMT</span> (ниже по тексту программы). </p>
	<p>Вторая: </p>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BEMT</span> <span class="rown">OFF</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> @#<span class="nmbr">166</span>,@#<span class="nmbr">30</span>
</pre></td>
		</tr>
	</table>
	<pre>...<span class="cmds">EMT</span> = <span class="nmbr">0</span></pre>
	<p>Восстанавливается прямая обработка <span class="cmds">EMT</span> пользовательской 
		программой. Макробиблиотека настраивается на использование команд <span class="cmds">JSR</span> (ниже по тексту программы). </p>
	<h2 id="_ref_p32">3.2 Запросы драйвера ОЗУ/ПЗУ</h2>
	<h3 id="_ref_p321">3.2.1. Чтение состояния памяти <span class="pscm">.BMEM</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BMEM</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140030</span> (<span class="cmds">EMT</span> <span class="nmbr">10</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В младший байт <span class="regn">R0</span> помещается номер страницы, подключенной 
		к адресу <span class="nmbr">40000</span>, в старший - номер страницы, подключенной 
		к адресу <span class="nmbr">100000</span>. Номера страниц <span class="nmbr"> 0</span> - <span class="nmbr">7</span> относятся к ОЗУ, страницы <span class="nmbr">10</span> - <span class="nmbr">13</span> (восьмеричное) относится 
		к страницам ПЗУ с номерами <span class="nmbr">0</span>, <span class="nmbr">1</span>, <span class="nmbr">2</span> и <span class="nmbr">3</span> соответственно. </p>
	<h3 id="_ref_p322">3.2.2. Чтение статуса страницы ОЗУ/ПЗУ <span class="pscm"> .BTEST</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTEST</span> <span class="labl">PAGE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">PAGE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140032</span> (<span class="cmds">EMT</span> <span class="nmbr">11</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выдаётся состояние страницы ОЗУ/ПЗУ. В <span class="regn">R0</span> помещается 
		код: </p>
	<ul>
		<li>бит <span class="nmbr">0</span> - страница подключена по адресу <span class="nmbr">40000</span>, </li>
		<li>бит <span class="nmbr">1</span> - страница подключена по адресу <span class="nmbr">100000</span>, </li>
		<li>бит <span class="nmbr">2</span> - страница ОЗУ используется БОС или 
			страница ПЗУ не подключена, </li>
		<li>бит <span class="nmbr">3</span> - страница является рабочей. </li>
	</ul>
	<p><span class="attnt">Примечание.</span> Страница ПЗУ считается подключенной, 
		если в ней присутствует хотя бы одна микросхема ПЗУ. </p>
	<h3 id="_ref_p323">3.2.3. Подключение страницы ОЗУ/ПЗУ <span class="pscm">.BPAGE</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPAGE</span> <span class="labl">PAGE</span>,<span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> #&lt;<span class="labl">ADDR</span> * <span class="nmbr">400</span>&gt; + <span class="labl">PAGE</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140034</span> (<span class="cmds">EMT</span> <span class="nmbr">12</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В младший байт <span class="regn">R0</span> помещается номер подключаемой 
		страницы. Код адреса подключения страницы помещается в старший байт <span class="regn">R0</span>. Нулевое значение означает область адресов <span class="nmbr">40000</span> - <span class="nmbr">100000</span>, любое ненулевое 
		значение - область <span class="nmbr">100000</span> - <span class="nmbr">140000</span>. </p>
	<p>Возможно нормальное завершение запроса и завершение запроса с ошибкой. В 
		случае нормального завершения бит &quot;<span class="symb">C</span>&quot; в слове состояния 
		процессора сброшен, по ошибке - установлен в <span class="nmbr">1</span>. В 
		этом случае в байт с адресом <span class="nmbr">52</span> (восьмеричное) помещается 
		код ошибки: </p>
	<ul>
		<li><span class="nmbr">1</span> - страница отсутствует; </li>
		<li><span class="nmbr">2</span> - страница не может быть подключена по заданному 
			адресу (попытка подключить страницу ПЗУ по адресу <span class="nmbr">40000</span> - <span class="nmbr">100000</span>); </li>
		<li><span class="nmbr">3</span> - страница используется БОС для своих внутренних 
			целей и запрещена для подключения.</li>
	</ul>
	<h3 id="_ref_p324">3.2.4. Назначение рабочей страницы <span class="pscm">.BWORK</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BWORK</span> <span class="labl">ARG</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ARG</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140036</span> (<span class="cmds">EMT</span> <span class="nmbr">13</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Если бит <span class="nmbr">15</span> аргумента равен <span class="nmbr"> 0</span>, то происходит назначение рабочей страницы: если бит <span class="nmbr">7</span> равен <span class="nmbr">0</span>,то страница с 
		номером в младшем байте аргумента назначается в качестве рабочей для записи/чтения. 
		Если бит <span class="nmbr">7</span> равен <span class="nmbr">1</span>, то страница 
		назначается в качестве рабочей для макрокоманд <span class="pscm">.BJSR</span> и <span class="pscm">.BJMP</span>. Если бит <span class="nmbr">15</span> аргумента 
		равен <span class="nmbr">1</span>, то в <span class="regn">R0</span> помещается 
		код рабочих страниц: в младшем байте номер рабочей страницы чтения-записи, в 
		старшем - номер страницы вызовов (со старшим битом, равным <span class="nmbr">0</span>). </p>
	<h3 id="_ref_p325">3.2.5. Чтение слова из рабочей страницы <span class="pscm">.BGETW</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGETW</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140040</span> (<span class="cmds">EMT</span> <span class="nmbr">14</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Из рабочей страницы по указанному адресу читается слово и помещается в <span class="regn">R0</span>. При попытке прочесть слово из несуществующей страницы <span class="regn">R0</span> не изменяется, а бит &quot;<span class="symb">C</span>&quot; 
		слова состояния процессора устанавливается в <span class="nmbr">1</span>. </p>
	<p>Старшие два бита адреса игнорируются. </p>
	<h3 id="_ref_p326">3.2.6. Чтение байта из рабочей страницы <span class="pscm">.BGETB</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGETB</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140042</span> (<span class="cmds">EMT</span> <span class="nmbr">15</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Из рабочей страницы по указанному адресу читается байт и помещается в младший 
		байт <span class="regn">R0</span>. Старший байт <span class="regn">R0</span> обнуляется. При попытке прочесть байт из несуществующей страницы <span class="regn">R0</span> не изменяется, а бит &quot;<span class="symb">C</span>&quot; 
		слова состояния процессора устанавливается в <span class="nmbr">1</span>. </p>
	<h3 id="_ref_p327">3.2.7. Запись слова в рабочую страницу <span class="pscm"> .BPUTW</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPUTW</span> <span class="labl">ADDR</span>,<span class="labl">DATA </span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre>
<span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R1</span>
<span class="cmds">MOV</span> <span class="labl">DATA</span>,<span class="regn">R0</span>
<span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140044</span> (<span class="cmds">EMT</span> <span class="nmbr">16</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В рабочую страницу по указанному адресу записывается слово. При попытке записи 
		в ПЗУ, несуществующую страницу или системную область ОЗУ устанавливается бит 
		&quot;<span class="symb">C</span>&quot;. Системной областью считается область системной 
		страницы с относительными адресами <span class="nmbr">0</span> - <span class="nmbr">7777</span>. </p>
	<h3 id="_ref_p328">3.2.8. Запись байта в рабочую страницу <span class="pscm"> .BPUTB</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPUT</span> <span class="labl">ADDR</span>,<span class="labl">DATA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre>
<span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R1</span>
<span class="cmds">MOVB</span> <span class="labl">DATA</span>,<span class="regn">R0</span>
<span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140046</span> (<span class="cmds">EMT</span> <span class="nmbr">17</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В рабочую страницу по указанному адресу записывается байт. При попытке записи 
		в ПЗУ, несуществующую страницу, системную область ОЗУ устанавливается бит &quot;<span class="symb">C</span>&quot;. </p>
	<h3 id="_ref_p329">3.2.9. Пересылка массива слов <span class="pscm">.BMOVE</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BMOVE</span> <span class="labl">AREA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">AREA</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140050</span> (<span class="cmds">EMT</span> <span class="nmbr">20</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится пересылка массива слов между текущим адресным пространством 
		пользователя и заданным скрытым пространством. В <span class="regn">R0</span> помещается адрес области параметров. </p>
	<p>Формат области: </p>
	<pre>
<span class="pscm">.WORD</span> <span class="labl">MEMADR</span>   <span class="cmmnt">; начальный адрес в памяти</span>
<span class="pscm">.WORD</span> <span class="labl">HIDADR</span>   <span class="cmmnt">; начальный адрес в скрытой памяти</span>
<span class="pscm">.BYTE</span> <span class="labl">LOW</span>,<span class="labl">HIGH</span> <span class="cmmnt">; номера страниц скрытой памяти</span>
<span class="pscm">.WORD</span> <span class="labl">BCOUNT</span>   <span class="cmmnt">; счётчик слов</span></pre>
	<p>Начальные адреса в памяти должны лежать выше адреса <span class="nmbr">400</span>, 
		конечные адреса (начальный адрес + счётчик) в памяти не должны превышать <span class="nmbr">160000</span>. Параметры <span class="labl">LOW</span> и <span class="labl">HIGH</span> задают номера страниц, подключаемых к адресам <span class="nmbr">40000</span> и <span class="nmbr">100000</span> соответственно. 
		Выходной массив (в который осуществляется запись) не должен лежать в ПЗУ или 
		системной области ОЗУ. Положительное значение счётчика слов задаёт пересылку 
		из рабочей страницы в память (чтение),отрицательное (при этом используется абсолютное 
		значение счётчика) - обратную операцию (запись). При правильно заданных параметрах 
		и успешной пересылке бит &quot;<span class="symb">C</span>&quot; слова состояния процессора 
		и байт <span class="nmbr">52</span> обнуляются. Возможны следующие случаи неуспешного 
		завершения (при этом бит &quot;<span class="symb">C</span>&quot; устанавливается в <span class="nmbr">1</span> и в байт <span class="nmbr">52</span> помещается 
		соответствующий код): </p>
	<ol>
		<li>неверно задан начальный адрес (код <span class="nmbr">1</span>) - пересылка 
			не производится; </li>
		<li>неверно задан конечный адрес (код <span class="nmbr">2</span>) -пересылка 
			производится до достижения допустимого конечного адреса, в <span class="regn">R0</span> помещается число непереданных слов; </li>
		<li>при пересылке возникло прерывание по <span class="nmbr">4</span> вектору 
			(попытка записи в ПЗУ или несуществующую область) (код <span class="nmbr">3</span>) - пересылка прекращается, в <span class="regn">R0</span> помещается число непереданных слов. </li>
	</ol>
	<h3 id="_ref_p3210">3.2.10. Пересылка массива байтов <span class="pscm">.BMOVB</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BMOVB</span> <span class="labl">AREA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">AREA</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140052</span> (<span class="cmds">EMT</span> <span class="nmbr">21</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится пересылка массива байтов между текущим адресным пространством 
		пользователя и заданным скрытым пространством. Параметры аналогичны пересылке 
		слов (вместо &quot;слов&quot; читай &quot;байтов&quot;). </p>
	<h3 id="_ref_p3211">3.2.11. Вызов подпрограммы из рабочей страницы <span class="pscm">.BJSR</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BJSR</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,-(<span class="regn">SP</span>)<span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140054</span>
</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Рабочая страница подключается по адресу, определённому аргументом <span class="labl">ADDR</span> (если он находится в диапазоне <span class="nmbr">40000</span> - <span class="nmbr">47776</span>, то к <span class="nmbr">40000</span>, если в диапазоне <span class="nmbr">100000</span> - <span class="nmbr">140000</span>, то к <span class="nmbr">100000</span>) и 
		производится вызов командой <span class="cmds">JSR</span> <span class="regn"> PC</span>,<span class="labl">ADDR</span>. </p>
	<p>Регистры общего назначения и слово состояния процессора (кроме бита &quot;<span class="symb">C</span>&quot;) 
		при выполнении вызова не изменяются. Стек не должен находиться в переключаемой 
		странице. В стек помещается следующая информация: </p>
	<table class="border">
		<tr>
			<td><span class="regn">SP</span> до вызова ————</td>
			<td></td>
		</tr>
		<tr>
			<td rowspan="3"></td>
			<td>адрес перехода</td>
		</tr>
		<tr>
			<td>адрес возврата <span class="nmbr">1</span></td>
		</tr>
		<tr>
			<td>старая карта</td>
		</tr>
		<tr>
			<td><span class="regn">SP</span> после перехода —</td>
			<td>адрес возврата <span class="nmbr">2</span></td>
		</tr>
	</table>
	<p>При выходе из подпрограммы регистры общего назначения и слово состояния программы 
		сохраняются. </p>
	<p>При попытке обращения к подпрограмме в несуществующей странице или системной 
		странице ОЗУ обращение к подпрограмме выполняться не будет и выполнится выход 
		в монитор с соответствующей диагностикой. </p>
	<p>После выхода из подпрограммы восстанавливается старое подключение обеих страниц 
		ОЗУ/ПЗУ, даже если подпрограмма переключала одну или обе страницы. Допускается 
		вложенное использование макрокоманды &quot;<span class="pscm">.BJSR</span>&quot;. Параметр 
		вызова из стека удаляется. </p>
	<h3 id="_ref_p3212">3.2.12. Переход в рабочую страницу без возврата <span class="pscm">.BJMP</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BJMP</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,-(<span class="regn">SP</span>)<span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140056</span> (<span class="cmds">EMT</span> <span class="nmbr">23</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Макрокоманда выполняется аналогично макрокоманде <span class="pscm">.BJSR</span>, 
		но дополнительная информация в стек не помещается, адрес возврата не сохраняется. 
		Если страница не существует или занята системой, параметры вызова из стека удаляются 
		и происходит выход в монитор с соответствующей диагностикой. </p>
	<p><span class="attnt">ПРИМЕЧАНИЯ</span>: </p>
	<ol>
		<li>В диагностических сообщениях, выдаваемых по <span class="pscm">.BJMP</span>, <span class="pscm">.BJSR</span> и прерыванию по <span class="nmbr">4</span> вектору выдаётся содержимое <span class="regn">PC</span> после выполнения 
			запроса, т.е. адрес следующей за <span class="cmds">JSR</span> или недопустимой 
			командой ячейки. </li>
		<li>В связи с использованием стека для передачи параметра для вызова следует 
			использовать только команды <span class="cmds">JSR</span>, а не <span class="cmds">EMT</span>. </li>
	</ol>
	<h2 id="_ref_p33">3.3. Запросы драйвера клавиатуры</h2>
	<h3 id="_ref_p331">3.3.1. Инициализация драйвера клавиатуры <span class="pscm">.BKINI</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BKINI</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140070</span> (<span class="cmds">EMT</span> <span class="nmbr">30</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выполняется инициализация драйвера клавиатуры, описанная в макрокоманде <a href="#_ref_p311"><span class="pscm">.BINIT</span></a>. </p>
	<h3 id="_ref_p332">3.3.2 Установка режима драйвера клавиатуры <span class="pscm">.BKSET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BKSET</span> <span class="labl">MODE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">MODE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140072</span> (<span class="cmds">EMT</span> <span class="nmbr">31</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается режим драйвера клавиатуры в соответствии со словом <span class="labl">MODE</span>. Назначение разрядов слова: </p>
	<table class="border">
		<tr>
			<th>Разряд</th>
			<th>Значение</th>
		</tr>
		<tr>
			<td><span class="nmbr">0</span></td>
			<td><span class="nmbr">0</span> - КОИ-8, <span class="nmbr">1</span> - КОИ-7</td>
		</tr>
		<tr>
			<td><span class="nmbr">1</span></td>
			<td>для КОИ-7: <span class="nmbr">1</span> - КОИ7-Н2</td>
		</tr>
		<tr>
			<td><span class="nmbr">6</span></td>
			<td><span class="nmbr">0</span> - &quot;щелчок&quot; клавиатуры разрешён, <span class="nmbr">1</span> - запрещён</td>
		</tr>
		<tr>
			<td><span class="nmbr">7</span></td>
			<td><span class="nmbr">0</span> - прямая передача кодов, <span class="nmbr">1</span> - перекодировка (см. приложение <span class="nmbr">1</span>)</td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Кроме этого, программа пользователя имеет возможность задать подпрограмму 
		завершения при нажатии каждой клавиши. Программным вектором считаются ячейки <span class="nmbr">110</span> и <span class="nmbr">112</span>. При нулевом содержимом <span class="nmbr">110</span> ячейки считается, что подпрограмма завершения 
		отсутствует. В ячейку <span class="nmbr">112</span> записывается значение регистра 
		управления памятью для подпрограммы завершения или <span class="nmbr">0</span> для текущего распределения. При вызове подпрограммы завершения в <span class="regn">R0</span> передаётся код нажатой клавиши. Выход из подпрограммы 
		выполняется командой &quot;<span class="cmds">RTS</span> <span class="regn">PC</span>&quot;. 
		В подпрограмме завершения можно использовать все регистры общего назначения. </p>
	<p>Если при выходе из подпрограммы завершения бит &quot;<span class="symb">C</span>&quot; 
		установлен в <span class="nmbr">1</span>, драйвер считает, что символ с клавиатуры 
		не обработан и передаст его программе пользователя по <a href="#_ref_p334"> <span class="pscm">.BTTIN</span></a>. </p>
	<p>Если при выходе из подпрограммы завершения бит &quot;<span class="symb">C</span>&quot; 
		установлен в <span class="nmbr">0</span>, то символ считается обработанным и 
		в буфер не записывается. </p>
	<h3 id="_ref_p333">3.3.3. Чтение режима работы клавиатуры <span class="pscm"> .BKGET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BKGET</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140074</span> (<span class="cmds">EMT</span> <span class="nmbr">32</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Текущий режим клавиатуры помещается в <span class="regn">R0</span>. Формат 
		слова режима см. макро <a href="#_ref_p332"><span class="pscm">.BKSET</span></a>. </p>
	<h3 id="_ref_p334">3.3.4. Ввод символа с ожиданием <span class="pscm">.BTTIN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTTIN</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140076</span> (<span class="cmds">EMT</span> <span class="nmbr">33</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В младший байт <span class="regn">R0</span> помещается очередной символ из 
		буфера ввода клавиатуры, старший байт <span class="regn">R0</span> обнуляется. </p>
	<h3 id="_ref_p335">3.3.5. Ввод символа без ожидания <span class="pscm">.BINKEY</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BINKEY</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140100</span> (<span class="cmds">EMT</span> <span class="nmbr">34</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В случае отсутствия символов в буфере, <span class="regn">R0</span> обнуляется, 
		бит &quot;<span class="symb">C</span>&quot; устанавливается в <span class="nmbr">1</span>, 
		в противном случае бит &quot;<span class="symb">C</span>&quot; сброшен, в <span class="regn">R0</span> передаётся код очередного символа. </p>
	<h3 id="_ref_p336">3.3.6. Ввод строки с редактированием <span class="pscm">.BGLIN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGLIN</span> <span class="labl">ADDR</span>,<span class="labl">LENGTH</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre>
<span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span>
<span class="cmds">MOV</span> <span class="labl">LENGTH</span>,<span class="regn">R1</span>
<span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140102</span> (<span class="cmds">EMT</span> <span class="nmbr">35</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Осуществляется ввод с клавиатуры строки символов с редактированием. Ввод 
		строки заканчивается при нажатии клавиши <i>&quot;ВВОД&quot;</i>, необязательно в конце 
		строки. Код клавиши <i>&quot;ВВОД&quot;</i> в буфер не помещается, в конце строки добавляется 
		нулевой байт. Параметр <span class="labl">ADDR</span> задаёт адрес буфера, куда 
		помещается строка, параметр <span class="labl">LENGTH</span> задаёт максимальную 
		длину вводимой строки. При длине, равной <span class="nmbr">0</span>, длина 
		принимается равной максимально возможной длине - <span class="nmbr">128</span> символов. При вводе строки отрабатывается клавиша <i>&quot;забой&quot;</i>. После возврата 
		из функции в <span class="regn">R0</span> находится адрес байта, следующего 
		за нулевым, а в <span class="regn">R1</span> - длина введённой строки. </p>
	<h3 id="_ref_p337">3.3.7. Редактирование существующей строки <span class="pscm">.BEDIT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BEDIT</span> <span class="labl">ADDR</span>,<span class="labl">LENGTH</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre>
<span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span>
<span class="cmds">MOV</span> <span class="labl">LENGTH</span>,<span class="regn">R1</span>
<span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140104</span> (<span class="cmds">EMT</span> <span class="nmbr">36</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Строка, находящаяся по адресу <span class="labl">ADDR</span> и заканчивающаяся 
		нулевым байтом, выводится на экран, курсор помещается в конец выведенной строки, 
		после чего осуществляется ее редактирование, аналогичное <a href="#_ref_p336"><span class="pscm">.BGLIN</span></a>. Отредактированная 
		строка помещается на место исходной. </p>
	<h3 id="_ref_p338">3.3.8. Сброс буфера клавиатуры <span class="pscm">.BKRES</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BKRES</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140106</span> (<span class="cmds">EMT</span> <span class="nmbr">37</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Осуществляется инициализация кольцевого буфера клавиатуры. </p>
	<h3 id="_ref_p339">3.3.9. Установка функциональных клавиш <span class="pscm"> .BSFUN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSFUN</span> <span class="labl">KEY</span>,<span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">KEY</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">ADDR</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140110</span> (<span class="cmds">EMT</span> <span class="nmbr">40</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Макрокоманда позволяет присвоить <span class="nmbr">10</span> функциональным 
		клавишам (аргумент <span class="labl">KEY</span> [<span class="nmbr">1</span>...<span class="nmbr">10</span>] 
		- номер клавиши) текстовые строки, которые будут вводиться при нажатиях этих 
		клавиш.Функциональные клавиши вводятся при одновременном нажатии клавиши <i> АР2</i> и соответствующей цифровой клавиши (номеру <span class="nmbr">10</span> соответствует клавиша <span class="nmbr">0</span>). Аргумент <span class="labl">KEY</span>, равный <span class="nmbr">0</span>, вызывает 
		сброс всех функциональных клавиш. Аргумент <span class="labl">ADDR</span> задаёт 
		адрес строки, которая должна заканчиваться нулевым байтом. Максимальная длина 
		присваиваемой строки - <span class="nmbr">64</span>. </p>
	<h3 id="_ref_p3310">3.3.10. Чтение функциональных клавиш <span class="pscm"> .BGFUN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGFUN</span> <span class="labl">KEY</span>,<span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">KEY</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">ADDR</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140112</span> (<span class="cmds">EMT</span> <span class="nmbr">41</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится пересылка строки, соответствующей клавише с номером <span class="labl">KEY</span>, в пользовательскую область по адресу <span class="labl">ADDR</span>. </p>
	<h2 id="_ref_p34">3.4. Запросы драйвера экрана</h2>
	<h3 id="_ref_p341">3.4.1. Инициализация драйвера экрана <span class="pscm">.BTINI</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTINI</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140130</span> (<span class="cmds">EMT</span> <span class="nmbr">50</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится инициализация драйвера экрана, описанная в макрокоманде <a href="#_ref_p311"><span class="pscm">.BINIT</span></a>. </p>
	<h3 id="_ref_p342">3.4.2. Установка режима драйвера экрана <span class="pscm">.BTSET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTSET</span> <span class="labl">MODE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">MODE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140132</span> (<span class="cmds">EMT</span> <span class="nmbr">51</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается режим работы экрана, соответствующий слову <span class="labl">MODE</span>. Формат слова приведён в <a href="#_ref_app3"> приложении <span class="nmbr">3</span></a>. </p>
	<h3 id="_ref_p343">3.4.3. Чтение режима драйвера экрана <span class="pscm">.BTGET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTGET</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140134</span> (<span class="cmds">EMT</span> <span class="nmbr">52</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается слово управления режимом драйвера 
		экрана. </p>
	<h3 id="_ref_p344">3.4.4. Установка цветов <span class="pscm">.BSCOL</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSCOL</span> <span class="labl">FORE</span>,<span class="labl">BACK</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> #&lt;<span class="labl">BACK</span> * <span class="nmbr">400</span>&gt;+<span class="labl">FORE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140136</span> (<span class="cmds">EMT</span> <span class="nmbr">53</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Задаются цвета для символьного вывода на экран. Аргумент <span class="labl">FORE</span> задаёт код цвета для символов и помещается в 
		младший байт <span class="regn">R0</span>, аргумент <span class="labl">BACK</span> - код цветов фона и помещается в старший байт <span class="regn">R0</span>. 
		Код, больший <span class="nmbr">200</span> (восьмеричное), означает сохранение 
		текущего цвета. В зависимости от режима рассматриваются младшие <span class="nmbr">1</span> или <span class="nmbr">2</span> бита кода. </p>
	<h3 id="_ref_p345">3.4.5. Чтение цветов <span class="pscm">.BGCOL</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGCOL</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140140</span> (<span class="cmds">EMT</span> <span class="nmbr">54</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается код текущих цветов, как описано 
		в макрокоманде <a href="#_ref_p344"><span class="pscm">.BSCOL</span></a>. </p>
	<h3 id="_ref_p346">3.4.6. Установка/чтение палитры <span class="pscm">.BPAL</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPAL</span> <span class="labl">PALET</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">PALET</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140142</span> (<span class="cmds">EMT</span> <span class="nmbr">55</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается палитра, соответствующая аргументу <span class="labl">PALET</span> (<span class="nmbr">0</span>...<span class="nmbr">15</span>). Если <span class="labl">PALET</span> &gt;<span class="nmbr">200</span> (восьм.), то 
		палитра не изменяется, а в <span class="regn">R0</span> помещается код текущей 
		палитры. </p>
	<h3 id="_ref_p347">3.4.7. Переключение буферов экрана <span class="pscm">.BBUF</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BBUF</span> <span class="labl">WRITE</span>,<span class="labl">VIDEO</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> #&lt;<span class="labl">WRITE</span> * <span class="nmbr">400</span>&gt;+<span class="labl">VIDEO</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140144</span> (<span class="cmds">EMT</span> <span class="nmbr">56</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливаются буфера экрана для отображения (<span class="labl">VIDEO</span>) 
		и для записи (<span class="labl">WRITE</span>). Номер буфера (<span class="nmbr">0</span> или <span class="nmbr">1</span>) отображения помещается в младший байт <span class="regn">R0</span>, записи - в старший. Если бит <span class="nmbr">15</span> <span class="regn">R0</span> установлен в &quot;<span class="nmbr">1</span>&quot;, 
		в <span class="regn">R0</span> возвращается текущий код буферов. </p>
	<h3 id="_ref_p348">3.4.8. Установка координат алфавитно-цифрового курсора <span class="pscm">.BSPOS</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSPOS</span> <span class="labl">LINE</span>,<span class="labl">POS</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> #&lt;<span class="labl">LINE</span> * <span class="nmbr">400</span>&gt;+<span class="labl">POS</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140146</span> (<span class="cmds">EMT</span> <span class="nmbr">57</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Алфавитно-цифровой курсор устанавливается в заданной позиции <span class="labl">POS</span> заданной строки <span class="labl">LINE</span>. 
		Если номер строки или позиции в строке превышает допустимый, то соответствующая 
		координата не изменяется. </p>
	<h3 id="_ref_p349">3.4.9. Чтение координат Алфавитно-цифрового курсора <span class="pscm">.BGPOS</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGPOS</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140150</span> (<span class="cmds">EMT</span> <span class="nmbr">60</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается текущее положение курсора, причём 
		в младшем байте содержится номер позиции, а в старшем - номер строки. </p>
	<h3 id="_ref_p3410">3.4.10. Сдвиг экрана <span class="pscm">.BSCRL</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSCRL</span> <span class="labl">NUM</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">NUM</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140152</span> (<span class="cmds">EMT</span> <span class="nmbr">61</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится сдвиг изображения на указанное число телевизионных строк, положительное 
		число означает сдвиг вверх, отрицательное - вниз. </p>
	<h3 id="_ref_p3411">3.4.11. Очистка экрана <span class="pscm">.BCLS</span></h3>
	<table class="mcmd border">
		<tr>
			<th style="width: 102px">Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BCLS</span></td>
		</tr>
		<tr>
			<th style="width: 102px">Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140154</span> (<span class="cmds">EMT</span> <span class="nmbr">62</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится очистка экрана (заполнение цветом фона). Курсор устанавливается 
		в левый верхний угол. </p>
	<h3 id="_ref_p3412">3.4.12. Вывод символа <span class="pscm">.BTOUT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BTOUT</span> <span class="labl">CHAR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">CHAR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140156</span> (<span class="cmds">EMT</span> <span class="nmbr">63</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится вывод символа на экран, если он печатаемый. Управляющие символы, 
		интерпретируемые драйвером, описаны в <a href="#_ref_app2">приложении <span class="nmbr">2</span></a>. Управляющие символы, отсутствующие в таблице, 
		игнорируются. В режиме <i>&quot;БЛОКРЕД&quot;</i> все управляющие символы не обрабатываются, 
		а выводятся в виде инверсных изображений латинских букв. </p>
	<h3 id="_ref_p3413">3.4.13. Вывод строки символов (формат RT-11) <span class="pscm">.BPRIN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPRIN</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140160</span> (<span class="cmds">EMT</span> <span class="nmbr">64</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится вывод на экран строки символов. Строка должна начинаться с адреса <span class="labl">ADDR</span> и заканчиваться байтом <span class="nmbr">0</span> (курсор переводится в начало следующей строки) или <span class="nmbr">200</span> (курсор располагается за последним выведенным символом). После возврата в <span class="regn">R0</span> находится адрес байта, следующего за конечным. </p>
	<h3 id="_ref_p3414">3.4.14 Вывод строки символов <span class="pscm">.BSTR</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSTR</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140162</span> (<span class="cmds">EMT</span> <span class="nmbr">65</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится вывод строки, заканчивающейся байтом <span class="nmbr">0</span>. 
		Курсор на новую строку не переводится. </p>
	<h3 id="_ref_p3415">3.4.15. Установка текущих графических координат <span class="pscm">.BSGRF</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGRF</span> <span class="labl">X</span>,<span class="labl">Y</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">X</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">Y</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140164</span> (<span class="cmds">EMT</span> <span class="nmbr">66</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливаются текущие графические координаты, которые используются в других 
		графических вызовах. Аргумент <span class="labl">X</span> - номер точки в строке. <span class="labl">Y </span>- задаёт номер строки растра, верхняя левая точка 
		имеет координаты (<span class="nmbr">0</span>,<span class="nmbr">0</span>), 
		правая нижняя - (<span class="nmbr">255</span>,<span class="nmbr">255</span>) 
		или (<span class="nmbr">511</span>,<span class="nmbr">255</span>) в зависимости 
		от режима. </p>
	<h3 id="_ref_p3416">3.4.16. Чтение текущих графических координат <span class="pscm">.BGGRF</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGGRF</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140166</span> (<span class="cmds">EMT</span> <span class="nmbr">67</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> и <span class="regn">R1</span> помещаются 
		текущие графические координаты в том же формате, что и в <a href="#_ref_p3415"><span class="pscm">.BSGRF</span></a>. </p>
	<h3 id="_ref_p3417">3.4.17. Установка графического цвета <span class="pscm"> .BSCGR</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSCGR</span> <span class="labl">COLOR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">COLOR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140170</span> (<span class="cmds">EMT</span> <span class="nmbr">70</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается цвет для графического вывода. <span class="labl">COLOR</span> может принимать значения <span class="nmbr">0</span>...<span class="nmbr">3</span>: </p>
	<ul>
		<li><span class="nmbr">0</span> - чёрный </li>
		<li><span class="nmbr">1</span> - синий </li>
		<li><span class="nmbr">2</span> - зелёный </li>
		<li><span class="nmbr">3</span> - красный </li>
	</ul>
	<h3 id="_ref_p3418">3.4.18 Чтение графического цвета <span class="pscm">.BGCGR</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGCGR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140172</span> (<span class="cmds">EMT</span> <span class="nmbr">71</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается код текущего графического цвета. </p>
	<h3 id="_ref_p3419">3.4.19 Установка/чтение режима рисования <span class="pscm">.BSMOD</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSMOD</span> <span class="labl">MODE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">MODE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140174</span> (<span class="cmds">EMT</span> <span class="nmbr">72</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается режим рисования для всех графических вызовов. При <span class="labl">MODE</span>=<span class="nmbr">0</span> устанавливается режим 
		замещения текущим цветом. <span class="labl">MODE</span>=<span class="nmbr">1</span> - режим инверсии содержимого буфера, <span class="labl">MODE</span>=<span class="nmbr">200</span> - режим не меняется, а в <span class="regn">R0</span> помещается код текущего 
		режима. </p>
	<h3 id="_ref_p3420">3.4.20. Вывод графической точки <span class="pscm">.BSPNT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSPNT</span> <span class="labl">X</span>,<span class="labl">Y</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">X</span>,<span class="regn">R0
</span><span class="cmds">MOV</span> <span class="labl">Y</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140176</span> (<span class="cmds">EMT</span> <span class="nmbr">73</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>На экран по заданным координатам выводится графическая точка текущего цвета. 
		Текущие координаты перемещаются в заданную точку. </p>
	<h3 id="_ref_p3421">3.4.21. Чтение цвета графической точки <span class="pscm">.BGPNT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGPNT</span> <span class="labl">X</span>,<span class="labl">Y</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">X</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">Y</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140200</span> (<span class="cmds">EMT</span> <span class="nmbr">74</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В точке с заданными координатами определяется цвет и помещается в <span class="regn">R0</span>. Текущие координаты не изменяются. </p>
	<h3 id="_ref_p3422">3.4.22. Вывод графического вектора <span class="pscm">.BVECT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BVECT</span> <span class="labl">X</span>,<span class="labl">Y</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">X</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">Y</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140202</span> (<span class="cmds">EMT</span> <span class="nmbr">75</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выводится графический вектор текущего цвета, начало которого находится в 
		точке с текущими координатами, а конец - в точке с заданными. Текущая точка 
		перемещается в конечную. Часть отрезка, выходящая за пределы экрана (или окна) 
		не отображается. </p>
	<h3 id="_ref_p3423">3.4.23. Вывод закрашенного прямоугольника <span class="pscm">.BRECT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BRECT</span> <span class="labl">X</span>,<span class="labl">Y</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">X</span>,<span class="regn">R0
</span><span class="cmds">MOV</span> <span class="labl">Y</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140204</span> (<span class="cmds">EMT</span> <span class="nmbr">76</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выводится прямоугольник, закрашенный текущим цветом, со сторонами, параллельными 
		сторонам экрана. Один угол прямоугольника располагается в текущей точке, противоположный 
		- в заданной. Текущая точка перемещается в заданную. </p>
	<h3 id="_ref_p3424">3.4.24. Вывод дуги или окружности <span class="pscm">.BCIRC</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BCIRC</span> <span class="labl">ADDR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ADDR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140206</span> (<span class="cmds">EMT</span> <span class="nmbr">77</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выводится окружность, дуга или сектор текущего цвета. Аргумент <span class="labl">ADDR</span> задаёт адрес блока параметров вызова. </p>
	<ul>
		<li>Слово <span class="nmbr">1</span> - координата <span class="labl">X</span> центра дуги (окружности) </li>
		<li>Слово <span class="nmbr">2</span> - координата <span class="labl">Y</span> центра дуги (окружности) </li>
		<li>Слово <span class="nmbr">3</span> - радиус дуги (окружности) </li>
		<li>Слово <span class="nmbr">4</span> - начальный угол дуги </li>
		<li>Слово <span class="nmbr">5</span> - конечный угол </li>
		<li>Слово <span class="nmbr">6</span> - коэффициент сжатия по оси <span class="labl">X</span> </li>
		<li>Слово <span class="nmbr">7</span> - коэффициент сжатия по оси <span class="labl">Y</span>. </li>
	</ul>
	<p>Начальный и конечный углы задаются следующим образом: </p>
	<table class="border">
		<tr>
			<th>Аргумент</th>
			<th>Значение угла (градусы)</th>
		</tr>
		<tr>
			<td><span class="nmbr">000000</span></td>
			<td><span class="nmbr">0</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">077777</span></td>
			<td><span class="nmbr">360</span></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Если задано отрицательное значение, используется его абсолютная величина, 
		а соответствующая граничная точка дуги соединяется с центром дуги отрезком прямой. 
		Аргументы &quot;коэфф. сжатия кодируются следующим образом: </p>
	<ul>
		<li><span class="nmbr">0</span> - нет сжатия; </li>
		<li><span class="nmbr">1</span>-<span class="nmbr">177777</span> - реальная 
			координата = (вычисленная * коэфф.)/<span class="nmbr">32767</span> </li>
	</ul>
	<h3 id="_ref_p3425">3.4.25. Закраска гранично-определённой области <span class="pscm">.BFILL</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BFILL</span> <span class="labl">COLOR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">COLOR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140210</span> (<span class="cmds">EMT</span> <span class="nmbr">100</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится закраска гранично - определённой <span class="nmbr">4</span>-связной 
		области текущим цветом, начиная с текущей точки. Область должна быть ограничена 
		одним заданным цветом (<span class="labl">COLOR</span>). </p>
	<h3 id="_ref_p3426">3.4.26. Выдача звука <span class="pscm">.BSOUN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSOUN</span> <span class="labl">LENGTH</span>,<span class="labl">TONE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">LENGTH</span>,<span class="regn">R0</span><span class="cmds">
MOV</span> <span class="labl">TONE</span>,<span class="regn">R1</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140212</span> (<span class="cmds">EMT</span> <span class="nmbr">101</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выдаётся звук периодом <span class="labl">TONE</span> и длиной <span class="labl">LENGTH</span> периодов. </p>
	<h3 id="_ref_p3427">3.4.27. Установка графического окна <span class="pscm">.BSWIN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSWIN</span> <span class="labl">AREA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">AREA</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140214</span> (<span class="cmds">EMT</span> <span class="nmbr">102</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится установка границ окна для графического вывода. Аргумент <span class="labl">AREA</span> задаёт адрес области параметров. Формат области: </p>
	<pre>
<span class="pscm">.WORD</span> <span class="labl">MINX  </span><span class="cmmnt">;левая граница по X</span> <span class="pscm">
.WORD</span> <span class="labl">MAXX  </span><span class="cmmnt">;правая граница по X</span>
<span class="pscm">.WORD</span> <span class="labl">MINY  </span><span class="cmmnt">;верхняя граница по Y</span> <span class="pscm">
.WORD</span> <span class="labl">MAXY  </span><span class="cmmnt">;нижняя граница по Y</span> 		</pre>
	<p>Если какая - либо из границ задана вне экрана, вместо неё устанавливается 
		граница экрана. </p>
	<h3 id="_ref_p3428">3.4.28. Чтение графического экрана <span class="pscm">.BGWIN</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGWIN</span> <span class="labl">AREA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">AREA</span>,<span class="regn">R0
</span><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140216</span> (<span class="cmds">EMT</span> <span class="nmbr">103</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>По адресу, заданным параметром <span class="labl">AREA</span>, помещается 
		таблица, описанная в <a href="#_ref_p3427"><span class="pscm">.BSWIN</span></a>. </p>
	<h3 id="_ref_p3429">3.4.29. Установка типа вектора <span class="pscm">.BSTYP</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BSTYP</span> <span class="labl">ARG</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ARG</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140222</span> (<span class="cmds">EMT</span> <span class="nmbr">105</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится установка типа (шаблона) для рисования графических векторов. 
		Используется для рисования прерывистых линий. Каждый бит аргумента задаёт признак 
		рисования (пропуска) двух точек, лежащих на векторе. После инициализации драйвера 
		экрана устанавливается тип <span class="nmbr">177777</span> (<span class="nmbr">8</span>), 
		задающий рисование сплошных линий. Следует учитывать, что значение типа циклически 
		сдвигается, и поэтому рисование следующего вектора начинается не с начала шаблона, 
		а с текущего положения. </p>
	<h3 id="_ref_p3430">3.4.30 Чтение типа вектора <span class="pscm">.BGTYP</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGTYP</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140224</span> (<span class="cmds">EMT</span> <span class="nmbr">106</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается текущий шаблон рисования векторов. 
		Значение может быть циклически сдвинуто относительно заданного (см. <a href="#_ref_p3429"><span class="pscm">.BSTYP</span></a>). </p>
	<h3 id="_ref_p3431">3.4.31 Установка и чтение ориентации графических символов <span class="pscm">.BGOSET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGOSET</span> <span class="labl">ARG</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">ARG</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140226</span> (<span class="cmds">EMT</span> <span class="nmbr">107</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится установка ориентации для графического вывода символов. <span class="labl">ARG</span>, равный <span class="nmbr">0</span> означает нормальный 
		вывод, <span class="nmbr">1</span> - повёрнутый на <span class="nmbr">180</span> градусов, <span class="nmbr">2</span> - на <span class="nmbr">90</span> влево, <span class="nmbr">3</span> - на <span class="nmbr">90</span> вправо; <span class="nmbr">200</span> - чтение ориентации графических символов (в <span class="regn">R0</span> помещается код ориентации). </p>
	<h3 id="_ref_p3432">3.4.32 Графический вывод символа <span class="pscm">.BGOUT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BGOUT</span> <span class="labl">CHAR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">CHAR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140230</span> (<span class="cmds">EMT</span> <span class="nmbr">110</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Производится графический вывод символа, начиная с текущих графических координат 
		в текущих режиме и ориентации текущим графическим цветом. Текущие координаты 
		смещаются в соответствии с режимом и ориентацией для рисования следующего символа. 
		Обрабатывается двойная ширина символов. В отличие от Алфавитно-цифрового вывода 
		графические символы могут быть нарисованы в любой точке экрана, однако рисование 
		производится медленнее. </p>
	<h2 id="_ref_p35">3.5. Запросы драйвера магнитофона</h2>
	<h3 id="_ref_p351">3.5.1. Управление двигателем <span class="pscm">.BMOT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BMOT</span> <span class="labl">ARG</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">ARG</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140240</span> (<span class="cmds">EMT</span> <span class="nmbr">114</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>При <span class="labl">ARG</span>=<span class="nmbr">1</span> осуществляется 
		включение двигателя магнитофона,при <span class="labl">ARG</span>=<span class="nmbr">0</span> - выключение. </p>
	<h3 id="_ref_p352">3.5.2. Вызов формата БК-0010 <span class="pscm">.BMB10</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BMB10</span> <span class="labl">AREA</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">AREA</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140242</span> (<span class="cmds">EMT</span> <span class="nmbr">115</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Выполняется операция с магнитофоном, используется формат магнитной ленты, 
		совместимый с БК-0010. Параметр <span class="labl">AREA</span> - адрес области 
		ОЗУ, через которую передаются параметры вызова. </p>
	<p>Формат таблицы параметров вызова: </p>
	<table class="border">
		<tr>
			<th colspan="2"></th>
			<th>Смещение в байтах</th>
		</tr>
		<tr>
			<td>XXXXX</td>
			<td>CODE</td>
			<td><span class="nmbr">0</span></td>
		</tr>
		<tr>
			<td colspan="2">нач. адрес</td>
			<td><span class="nmbr">2</span></td>
		</tr>
		<tr>
			<td colspan="2">длина в байтах</td>
			<td><span class="nmbr">4</span></td>
		</tr>
		<tr>
			<td colspan="2" rowspan="2">имя файла<br>
				. . . . . .</td>
			<td><span class="nmbr">6</span></td>
		</tr>
		<tr>
			<td>(<span class="nmbr">16</span>. байтов)</td>
		</tr>
		<tr>
			<td>СТР<span class="nmbr">1</span></td>
			<td>СТР<span class="nmbr">0</span></td>
			<td><span class="nmbr">026</span></td>
		</tr>
		<tr>
			<td colspan="2">FILE ADDRESS</td>
			<td><span class="nmbr">030</span></td>
		</tr>
		<tr>
			<td colspan="2">FILE LENGTH</td>
			<td><span class="nmbr">032</span></td>
		</tr>
		<tr>
			<td colspan="2" rowspan="2">FILE NAME<br>
				. . . . . .</td>
			<td><span class="nmbr">034</span></td>
		</tr>
		<tr>
			<td>(<span class="nmbr">16</span>. байтов)</td>
		</tr>
	</table>
	<p>Поле <i>&quot;CODE&quot;</i> (байт заполняется пользователем и содержит код операции: </p>
	<ul>
		<li><span class="nmbr">0</span> - записать файл </li>
		<li><span class="nmbr">1</span> - прочитать файл </li>
		<li><span class="nmbr">2</span> - чтение метки файла </li>
		<li><span class="nmbr">3</span> - фиктивное чтение файла </li>
	</ul>
	<p>Аргумент &quot;начальный адрес&quot; задаёт начальный адрес области ОЗУ, из которой 
		выводится информация в файл или начальный адрес области ОЗУ, куда производится 
		ввод информации. Если в команде чтения указан адрес <span class="nmbr">0</span>, 
		информация записывается, начиная с адреса, указанного в метке файла. </p>
	<p>Аргумент &quot;длина&quot; используется только в операции &quot;запись файла&quot; и задаёт длину 
		в байтах записываемой области ОЗУ. </p>
	<p>Аргумент &quot;имя файла&quot; содержит <span class="nmbr">16</span>.-байтное имя файла, 
		с которым необходимо произвести операцию. Если в запросе чтение файла имя будет 
		начинаться с нулевого байта, то будет загружен первый встретившийся файл. </p>
	<p>Аргументы <i>&quot;СТР<span class="nmbr">0</span>&quot;</i> и <i>&quot;СТР<span class="nmbr">1</span>&quot;</i> задают номера страниц ОЗУ (ПЗУ), подключаемых к окнам <span class="nmbr">40000</span> - <span class="nmbr">100000</span> и <span class="nmbr">100000</span> - <span class="nmbr">140000</span> при передаче данных (задают страницы памяти 
		буфера ввода - вывода). Отрицательные значения соответствующих байтов означают 
		текущее распределение памяти. </p>
	<p>Следующая <span class="nmbr">20</span>.-байтная область служит для возврата 
		информации о текущем файле при операциях &quot;чтение&quot; и &quot;фиктивное чтение&quot; и содержит 
		начальный адрес, длину и имя, прочитанные из метки текущего файла ленты. </p>
	<p>При ошибочном завершении операции запрос возвращает установленный бит &quot;<span class="symb">C</span>&quot; 
		и код ошибки в байте <span class="nmbr">52</span>: </p>
	<ul>
		<li><span class="nmbr">1</span> - найден файл с именем, не совпадающим с 
			заданным; </li>
		<li><span class="nmbr">2</span> - ошибка контрольной суммы; </li>
		<li><span class="nmbr">3</span> - недопустимый диапазон адресов; </li>
		<li><span class="nmbr">4</span> - прерывание по вектору <span class="nmbr">4</span> или клавише <i>&quot;СТОП&quot;</i>. </li>
	</ul>
	<p>При ошибке типа <span class="nmbr">1</span> магнитофон останавливается после 
		прочитанной метки файла. </p>
	<h2 id="_ref_p36">3.6. Запросы драйвера принтера</h2>
	<h3 id="_ref_p361">3.6.1 Инициализация драйвера принтера <span class="pscm"> .BPINI</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPINI</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140260</span> (<span class="cmds">EMT</span> <span class="nmbr">124</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Осуществляется инициализация драйвера принтера, описанная в макрокоманде <a href="#_ref_p311"><span class="pscm">.BINIT</span></a>. </p>
	<h3 id="_ref_p362">3.6.2. Установка режима печати <span class="pscm">.BPSET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPSET</span> <span class="labl">MODE</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOV</span> <span class="labl">MODE</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140262</span> (<span class="cmds">EMT</span> <span class="nmbr">125</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Устанавливается режим печати в соответствии со словом <span class="labl"> MODE</span>. Назначение разрядов: </p>
	<ul>
		<li><span class="nmbr">8</span> - входная информация: <span class="nmbr"> 0</span> - КОИ-8, <span class="nmbr">1</span> - КОИ-7; </li>
		<li><span class="nmbr">9</span> - выходная информация: <span class="nmbr">0</span> - КОИ-8, <span class="nmbr">1</span> - КОИ-7; </li>
		<li><span class="nmbr">10</span> - <span class="nmbr">1</span> - КОИ-7Н2 
			(при КОИ-7 на входе). </li>
	</ul>
	<p>Младший байт <span class="labl">MODE</span> содержит число квантов ожидания 
		готовности принтера, один квант соответствует одному полному циклу (<span class="nmbr">65536</span> раз) команды <span class="cmds">SOB</span>. При равенстве нулю время ожидания 
		бесконечно. </p>
	<h3 id="_ref_p363">3.6.3. Чтение режима печати <span class="pscm">.BPGET</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPGET</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140264</span> (<span class="cmds">EMT</span> <span class="nmbr">126</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается слово режима печати. </p>
	<h3 id="_ref_p364">3.6.4. Вывод символа на печать <span class="pscm">.BPOUT</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPOUT</span> <span class="labl">CHAR</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">MOVB</span> <span class="labl">CHAR</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140266</span> (<span class="cmds">EMT</span> <span class="nmbr">127</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Осуществляется вывод символа на печать. Если печать не выдаёт готовности 
		больше установленного времени тайм-аута, возвращается управление с установленным 
		битом &quot;<span class="symb">C</span>&quot;. </p>
	<h3 id="_ref_p365">3.6.5. Определение готовности принтера <span class="pscm"> .BPRDY</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPRDY</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140270</span> (<span class="cmds">EMT</span> <span class="nmbr">30</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Если принтер готов, в <span class="regn">R0</span> помещается <span class="nmbr">1</span>, бит &quot;<span class="symb">C</span>&quot; сброшен, иначе <span class="regn">R0</span> = <span class="nmbr">0</span>, <span class="symb">C</span> = <span class="nmbr">1</span>. </p>
	<h3 id="_ref_p366">3.6.6. Чтение текущей позиции печати <span class="pscm">.BPPOS</span></h3>
	<table class="mcmd border">
		<tr>
			<th>Макрокоманда:</th>
			<td class="colmacr"><span class="pscm">.BPPOS</span></td>
		</tr>
		<tr>
			<th>Расширение:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">140272</span> (<span class="cmds">EMT</span> <span class="nmbr">131</span>)</pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>В <span class="regn">R0</span> помещается текущая позиция печатающей головки. 
		Пересчёт при выводе символов табуляции не производится. </p>
	<h2 id="_ref_p37">3.7. Запросы драйвера НГМД</h2>
	<p>Драйвер НГМД размещён в ПЗУ, находящемся в контроллере НГМД, и доступен при 
		подключении контроллера к ЭВМ. Драйвер имеет несколько точек входа: </p>
	<table class="border">
		<tr>
			<th>Адрес точки входа</th>
			<th>Функция</th>
		</tr>
		<tr>
			<td><span class="nmbr">160000</span></td>
			<td>Автоматическая загрузка</td>
		</tr>
		<tr>
			<td><span class="nmbr">160002</span></td>
			<td>Загрузка с выбранного привода</td>
		</tr>
		<tr>
			<td><span class="nmbr">160004</span></td>
			<td>Чтение-запись по номеру блока</td>
		</tr>
		<tr>
			<td><span class="nmbr">160006</span></td>
			<td>Чтение-запись по номеру сектора</td>
		</tr>
		<tr>
			<td><span class="nmbr">160010</span></td>
			<td>Инициализация рабочей области драйвера</td>
		</tr>
		<tr>
			<td><span class="nmbr">160012</span></td>
			<td>Форматирование дорожки</td>
		</tr>
	</table>
	<p><span class="attnt">Примечание.</span> Здесь и далее числа без последующей 
		точки - восьмеричные, с точкой - десятичные.<br>
	</p>
	<p>Для работы драйвера необходима область ОЗУ размером <span class="nmbr">66</span> байт для размещения параметров и рабочих ячеек. </p>
	<p>Формат рабочей области: </p>
	<table class="border" width="100%">
		<colgroup>
		<col width="10%">
		<col width="5%">
		<col width="10%">
		<col width="20%">
		<col width="*">
		</colgroup>
		<tr>
			<th>Смещение от начала области</th>
			<th>Длина (байт)</th>
			<th>Символическое имя</th>
			<th>Начальное значение</th>
			<th>Назначение</th>
		</tr>
		<tr>
			<td><span class="nmbr">0</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">CSRW</span></td>
			<td><span class="nmbr">0</span></td>
			<td>Копия по записи регистра состояния НГМД</td>
		</tr>
		<tr>
			<td><span class="nmbr">2</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">CURTRK</span></td>
			<td>-</td>
			<td>Адрес текущей дорожки</td>
		</tr>
		<tr>
			<td><span class="nmbr">4</span></td>
			<td><span class="nmbr">4</span></td>
			<td><span class="labl">TRKTAB</span></td>
			<td><span class="nmbr">177777</span>, <span class="nmbr">77777</span></td>
			<td>Таблица текущих дорожек</td>
		</tr>
		<tr>
			<td><span class="nmbr">10</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">TDOWN</span></td>
			<td><span class="nmbr">20000</span> (для <span class="nmbr">6022</span>)</td>
			<td>Время опускания головки (в циклах <span class="cmds">SOB</span>)</td>
		</tr>
		<tr>
			<td><span class="nmbr">12</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">TSTEP</span></td>
			<td><span class="nmbr">20000</span> (для <span class="nmbr">6022</span>)</td>
			<td>Время перехода с дорожки на дорожку</td>
		</tr>
		<tr>
			<td><span class="nmbr">14</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">TRKCOR</span></td>
			<td><span class="nmbr">36</span> (для <span class="nmbr">6022</span>)</td>
			<td>Номер дорожки, с которой включается предкомпенсация при записи</td>
		</tr>
		<tr>
			<td><span class="nmbr">15</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">BRETRY</span></td>
			<td><span class="nmbr">30</span> (рекоменд.)</td>
			<td>Число повторных операций при ошибках</td>
		</tr>
		<tr>
			<td><span class="nmbr">16</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">FLAGS</span></td>
			<td><span class="nmbr">0</span></td>
			<td>Рабочая ячейка драйвера</td>
		</tr>
		<tr>
			<td><span class="nmbr">17</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">FILLB</span></td>
			<td>вх. параметр</td>
			<td>Код заполнения секторов при форматиров.</td>
		</tr>
		<tr>
			<td><span class="nmbr">20</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">FLGPTR</span></td>
			<td>-</td>
			<td>Указатель на байт признаков</td>
		</tr>
		<tr>
			<td><span class="nmbr">22</span></td>
			<td><span class="nmbr">4</span></td>
			<td><span class="labl">FLGTAB</span></td>
			<td><span class="nmbr">0</span></td>
			<td>Таблица признаков (см. ниже)</td>
		</tr>
		<tr>
			<td><span class="nmbr">26</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">ADDR</span></td>
			<td>вх. параметр</td>
			<td>Адрес буфера ОЗУ</td>
		</tr>
		<tr>
			<td><span class="nmbr">30</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">WCNT</span></td>
			<td>вх. параметр</td>
			<td>Число слов для пересылки</td>
		</tr>
		<tr>
			<td><span class="nmbr">32</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">SIDE</span></td>
			<td>вх. параметр</td>
			<td>Номер стороны диска</td>
		</tr>
		<tr>
			<td><span class="nmbr">33</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">TRK</span></td>
			<td>вх. параметр</td>
			<td>Номер дорожки</td>
		</tr>
		<tr>
			<td><span class="nmbr">34</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">UNIT</span></td>
			<td>вх. параметр</td>
			<td>Номер привода</td>
		</tr>
		<tr>
			<td><span class="nmbr">35</span></td>
			<td><span class="nmbr">1</span></td>
			<td><span class="labl">SECTOR</span></td>
			<td>вх. параметр</td>
			<td>Номер сектора</td>
		</tr>
		<tr>
			<td><span class="nmbr">36</span></td>
			<td><span class="nmbr">22</span></td>
			<td>&nbsp;</td>
			<td>вх. параметр</td>
			<td>Рабочие ячейки драйвера</td>
		</tr>
		<tr>
			<td><span class="nmbr">60</span></td>
			<td><span class="nmbr">2</span></td>
			<td><span class="labl">MAXSEC</span></td>
			<td>вх. параметр</td>
			<td>Число секторов на дорожке</td>
		</tr>
		<tr>
			<td><span class="nmbr">62</span></td>
			<td><span class="nmbr">4</span></td>
			<td>&nbsp;</td>
			<td>вх. параметр </td>
			<td>Рабочие ячейки</td>
		</tr>
	</table>
	<p>Таблица <span class="labl">FLGTAB</span> содержит по одному байту на привод 
		и используется для обработки нестандартных дисков. В каждом байте используется 
		два бита для указания параметров операции: </p>
	<ul>
		<li>бит <span class="nmbr">0</span> - при установке в <span class="nmbr"> 1</span> драйвер производит пропуск дорожек при поиске, т.е. фактически 
			обрабатываются только чётные дорожки. Эта возможность используется для обработки 
			на дисководе, имеющем <span class="nmbr">80</span> дорожек, дискет, размеченных 
			на <span class="nmbr">40</span>-дорожечном дисководе; </li>
		<li>бит <span class="nmbr">1</span> - при установке в <span class="nmbr"> 1</span> драйвер производит обращение только к нижней стороне дискеты. Эта 
			возможность используется при подключении дисководов, имеющих только одну 
			головку, а также при обработке дискет, записанных на таком дисководе, на 
			двустороннем дисководе; </li>
		<li>бит <span class="nmbr">2</span> - при равенстве <span class="nmbr">0</span> драйвер обрабатывает сектора длиной <span class="nmbr">512</span> байт, 
			иначе длиной <span class="nmbr">1024</span> байт. </li>
	</ul>
	<h3 id="_ref_p371">3.7.1. Автоматическая загрузка</h3>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">160000</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Можно также произвести загрузку непосредственно из монитора команд оператора 
		командой <b>&quot;B&quot;</b>. Входные параметры отсутствуют. </p>
	<p>Действие: производится попытка загрузить операционную систему с привода <span class="nmbr">0</span>. Если попытка загрузки была неудачной, то драйвер 
		последовательно пытается загрузить систему с <span class="nmbr">1</span>, <span class="nmbr">2</span> и <span class="nmbr">3</span> привода. Если все 
		попытки оказались неудачными, драйвер возвращает управление с установленным 
		битом &quot;<span class="symb">C</span>&quot; оператора. </p>
	<p>Алгоритм загрузки: </p>
	<ol>
		<li>Инициализируется рабочая область драйвера в ОЗУ (базовый адрес - <span class="nmbr">2000</span>) с параметрами для дисковода <span class="nmbr">6022</span>. </li>
		<li>Считается <span class="nmbr">1</span> сектор <span class="nmbr">0</span> дорожки выбранного дисковода в ОЗУ, начиная с адреса <span class="nmbr"> 1000</span>. </li>
		<li>В следующих случаях:</li>
	</ol>
	<ul>
		<li>в приводе отсутствует дискета,</li>
		<li>не закрыта крышка привода,</li>
		<li>привод неисправен,</li>
		<li>дискета не размечена,</li>
		<li>при считывании указанного сектора возникла ошибка,</li>
		<li>на диске нет загрузчика операционной системы,</li>
	</ul>
	<p>попытка загрузки считается неудачной, иначе драйвер передаёт управление по 
		адресу <span class="nmbr">1000</span>, при этом в <span class="regn">R0</span> помещается номер привода, откуда произведена загрузка. </p>
	<h3 id="_ref_p372">3.7.2. Загрузка с выбранного привода</h3>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">MOV</span> #<span class="labl">N</span>,<span class="regn">R0</span><span class="cmds">
JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160002</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Из монитора команд оператора:</p>
	<p><b>&lt;N&gt;B</b>,</p>
	<p>где <i>&lt;N&gt;</i> — номер выбранного привода.</p>
	<p>Действие аналогично предыдущему пункту, однако чтение начинается сразу с 
		выбранного привода и при неудаче попыток загрузиться с других приводов не производится. </p>
	<h3 id="_ref_p373">3.7.3. Чтение-запись логического блока</h3>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160004</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Входные параметры: </p>
	<ul>
		<li><span class="regn">R0</span> — номер блока на диске, </li>
		<li><span class="regn">R1</span> — длина пересылаемого массива данных, </li>
		<li><span class="regn">R2</span> — начальный адрес массива данных, </li>
		<li><span class="regn">R3</span> — базовый адрес рабочей области драйвера, </li>
		<li>поле <span class="labl">UNIT</span> в рабочей области — номер привода. </li>
	</ul>
	<p>Блок является логической единицей информации на внешних носителях и равен <span class="nmbr">512</span> байтам. В основном используемом формате записи 
		на диск размер блока совпадает с размером сектора. Первый сектор нижней стороны 
		нулевой дорожки соответствует блоку <span class="nmbr">0</span>. Вычисление 
		номера сектора и дорожки по номеру блока производится с учётом установленных 
		признаков в таблице <span class="labl">FLGTAB</span>. Алгоритм этого вычисления 
		совпадает с алгоритмом драйвера MY для микроЭВМ серии ДВК. </p>
	<p>Длина массива данных задаёт число слов, подлежащих пересылке, а также тип 
		операции: положительное число - чтение, отрицательное - запись. При записи пересылаемое 
		количество слов равно абсолютному значению длины. Если заданное количество превышает 
		размер сектора, осуществляется автоматический переход к следующему сектору, 
		а если необходимо, то и на другую сторону, и дорожку. Если при записи число 
		слов не кратно размеру сектора, то остаток последнего сектора заполняется нулями. </p>
	<p>Перед самым первым вызовом драйвера поля <span class="labl">CSRW</span>, <span class="labl">TRKTAB</span>, <span class="labl">FLAGS</span> в рабочей 
		области должны быть заполнены значениями, указанными в таблице, и не должны 
		изменяться программой пользователя. Поля <span class="labl">TDOWN</span>, <span class="labl">TSTEP</span>, <span class="labl">TRKCOR</span>, <span class="labl">BRETRY</span>, <span class="labl">FLGTAB</span> рекомендуется 
		заполнять значениями, указанными в таблице, однако они могут быть изменены в 
		зависимости от конкретных условий. </p>
	<p>Возврат из драйвера осуществляется командой <span class="cmds">RTS</span> <span class="regn">PC</span>. </p>
	<p>Содержимое регистров процессора <span class="regn">R0</span>, <span class="regn">R1</span>, <span class="regn">R2</span>, <span class="regn">R4</span>, <span class="regn">R5</span> не сохраняется. </p>
	<p>При возникновении ошибки бит &quot;<span class="symb">C</span>&quot; в слове состояния 
		процессора устанавливается в <span class="nmbr">1</span> и в байт с абсолютным 
		адресом <span class="nmbr">52</span> помещается код ошибки: </p>
	<table class="mcmd border" width="100%">
		<tr>
			<th> <p>Код</p>
			</th>
			<th> <p>Причина ошибки</p>
			</th>
		</tr>
		<tr>
			<td><p class="nmbr">1</p></td>
			<td><p class="contn">при чтении - ошибка CRC в зоне данных, при записи - 
					установлена защита записи; </p></td>
		</tr>
		<tr>
			<td><p class="nmbr">2</p></td>
			<td><p class="contn">ошибка CRC в зоне заголовка сектора </p></td>
		</tr>
		<tr>
			<td><p class="nmbr">3</p></td>
			<td><p class="contn">нет позиционирования на <span class="nmbr">0</span> дорожку</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">4 </p></td>
			<td><p class="contn">ошибка позиционирования</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">5</p></td>
			<td><p class="contn">не найден сектор</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">6 </p></td>
			<td><p class="contn">нет диска или диск не вращается</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">7</p></td>
			<td><p class="contn">прерывание по вектору <span class="nmbr">4</span> при 
					операции</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">010</p></td>
			<td><p class="contn">не найден адресный маркер</p></td>
		</tr>
		<tr>
			<td><p class="nmbr">011</p></td>
			<td><p class="contn">не найден маркер данных </p></td>
		</tr>
		<tr>
			<td><p class="nmbr">012</p></td>
			<td><p class="contn">недопустимые параметры команды или нестандартный формат 
					диска.</p></td>
		</tr>
	</table>
	<p>После завершения операции драйвер оставляет двигатель дисковода включённым. 
		Для остановки двигателя программа пользователя должна записать <span class="nmbr">0</span> по адресу <span class="nmbr">177130</span>, а также 
		в ячейку <span class="labl">CSRW</span> рабочей области.</p>
	<h3 id="_ref_p374">3.7.4. Чтение-запись по номеру сектора и дорожки</h3>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160006</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Входные параметры: <span class="regn">R3</span> - адрес рабочей области </p>
	<p>Поля рабочей области: </p>
	<table class="border">
		<tr>
			<td><span class="labl">ADDR</span></td>
			<td>- начальный адрес массива данных</td>
		</tr>
		<tr>
			<td><span class="labl">WCNT</span></td>
			<td>- длина массива данных</td>
		</tr>
		<tr>
			<td><span class="labl">SIDE</span></td>
			<td>- номер стороны (<span class="nmbr">0</span> - нижняя, <span class="nmbr">1</span> - верхняя)</td>
		</tr>
		<tr>
			<td><span class="labl">TRK</span></td>
			<td>- номер дорожки</td>
		</tr>
		<tr>
			<td><span class="labl">UNIT</span></td>
			<td>- номер привода (<span class="nmbr">0</span>..<span class="nmbr">3</span>)</td>
		</tr>
		<tr>
			<td><span class="labl">SECTOR</span></td>
			<td>- номер сектора (<span class="nmbr">1</span>...<span class="nmbr">12</span>(<span class="nmbr">8</span>))</td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Действие аналогично предыдущему пункту. </p>
	<h3 id="_ref_p375">3.7.5. Инициализация рабочей области</h3>
	<p>Эта точка входа является вспомогательной и служит для облегчения написания 
		программ, использующих драйвер НГМД. </p>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@#<span class="nmbr">160010</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Входной параметр: <span class="regn">R3</span> - базовый адрес рабочей области. </p>
	<p>Действие: заполняются следующие поля рабочей области: </p>
	<table class="border">
		<tr>
			<td><span class="labl">CSRW</span></td>
			<td><span class="nmbr">0</span></td>
		</tr>
		<tr>
			<td><span class="labl">TRKTAB</span></td>
			<td><span class="nmbr">177777</span>, <span class="nmbr">177777</span></td>
		</tr>
		<tr>
			<td><span class="labl">TDOWN</span></td>
			<td><span class="nmbr">10000</span>.</td>
		</tr>
		<tr>
			<td><span class="labl">TSTEP</span></td>
			<td><span class="nmbr">10000</span>.</td>
		</tr>
		<tr>
			<td><span class="labl">TRKCOR</span></td>
			<td><span class="nmbr">30</span>.</td>
		</tr>
		<tr>
			<td><span class="labl">BRETRY</span></td>
			<td><span class="nmbr">30</span>.</td>
		</tr>
		<tr>
			<td><span class="labl">FLAGS</span></td>
			<td><span class="nmbr">0</span></td>
		</tr>
		<tr>
			<td><span class="labl">FLGTAB</span></td>
			<td><span class="nmbr">0</span>,<span class="nmbr">0</span></td>
		</tr>
	</table>
	<p><br>
	</p>
	<h3 id="_ref_p376">3.7.6. Форматирование дорожки</h3>
	<table class="mcmd border">
		<tr>
			<th>Вызов:</th>
			<td><pre><span class="cmds">JSR</span> <span class="regn">PC</span>,@<span class="nmbr">160012</span></pre></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Входные параметры: </p>
	<table class="border">
		<tr>
			<td><span class="regn">R3</span></td>
			<td>- базовый адрес рабочей области</td>
		</tr>
		<tr>
			<td><span class="labl">FILLB</span></td>
			<td>- код, которым будет заполнено поле данных сектора при форматировании</td>
		</tr>
		<tr>
			<td><span class="labl">SIDE</span></td>
			<td>- номер стороны</td>
		</tr>
		<tr>
			<td><span class="labl">TRK</span></td>
			<td>- номер дорожки</td>
		</tr>
		<tr>
			<td><span class="labl">UNIT</span></td>
			<td>- номер привода</td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Действие: форматируется указанная дорожка с указанной стороны, поле данных 
		всех секторов заполняется кодом <span class="labl">FILLB</span>. </p>
	<h1 id="_ref_appn">Приложения</h1>
	<h2 id="_ref_app1">Приложение <span class="nmbr">1</span>: кодировка клавиш 
		БК-0011</h2>
	<p>Управляющие клавиши </p>
	<table class="border">
		<tr>
			<th rowspan="2">Клавиша</th>
			<th colspan="2">Прямой режим</th>
			<th colspan="2">Перекодировка</th>
		</tr>
		<tr>
			<th></th>
			<th>АР2</th>
			<th></th>
			<th>АР2</th>
		</tr>
		<tr>
			<td><div class="leftid"> ТАБ </div></td>
			<td><div class="centr"> <span class="nmbr">11</span> </div></td>
			<td><div class="centr"> <span class="nmbr">11</span> </div></td>
			<td><div class="centr"> <span class="nmbr">11</span> </div></td>
			<td><div class="centr"> <span class="nmbr">11</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> КТ </div></td>
			<td><div class="centr"> <span class="nmbr">3</span> </div></td>
			<td><div class="centr"> <span class="nmbr">203</span> </div></td>
			<td><div class="centr"> <span class="nmbr">3</span> </div></td>
			<td><div class="centr"> <span class="nmbr">203</span> </div></td>
		</tr>
		<tr>
			<td nowrap="nowrap"><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbdelrt.png" width="35"> (удал. 
					правой части строки) </div></td>
			<td><div class="centr"> <span class="nmbr">213</span> </div></td>
			<td><div class="centr"> <span class="nmbr">213</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">144</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">144</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbdel.png" width="35"> (сдвижка 
					в строке) </div></td>
			<td><div class="centr"> <span class="nmbr">26</span> </div></td>
			<td><div class="centr"> <span class="nmbr">226</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">145</span> </div></td>
			<td><div class="centr"> <span class="nmbr">226</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbins.png" width="35"> (раздвижка 
					в строке) </div></td>
			<td><div class="centr"> <span class="nmbr">27</span> </div></td>
			<td><div class="centr"> <span class="nmbr">227</span> </div></td>
			<td><div class="centr"> <span class="nmbr">27</span> </div></td>
			<td><div class="centr"> <span class="nmbr">227</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> ИНД СУ </div></td>
			<td><div class="centr"> <span class="nmbr">202</span> </div></td>
			<td><div class="centr"> <span class="nmbr">202</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">25</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">25</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> БЛОК РЕД </div></td>
			<td colspan="4">Код в программу не передаётся </td>
		</tr>
		<tr>
			<td><div class="leftid"> ШАГ </div></td>
			<td><div class="centr"> <span class="nmbr">220</span> </div></td>
			<td><div class="centr"> <span class="nmbr">220</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">10</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">10</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> СБР </div></td>
			<td><div class="centr"> <span class="nmbr">14</span> </div></td>
			<td><div class="centr"> <span class="nmbr">214</span> </div></td>
			<td><div class="centr"> <span class="nmbr">14</span> </div></td>
			<td><div class="centr"> <span class="nmbr">214</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbbs.png" width="35"> (забой) </div></td>
			<td><div class="centr"> <span class="nmbr">30</span> </div></td>
			<td><div class="centr"> <span class="nmbr">230</span> </div></td>
			<td><div class="centr"> <span class="nmbr">177</span> </div></td>
			<td><div class="centr"> <span class="nmbr">30</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> ВС </div></td>
			<td><div class="centr"> <span class="nmbr">23</span> </div></td>
			<td><div class="centr"> <span class="nmbr">223</span> </div></td>
			<td><div class="centr"> <span class="nmbr">23</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbenter.png" width="35"> (ввод) </div></td>
			<td><div class="centr"> <span class="nmbr">12</span> </div></td>
			<td><div class="centr"> <span class="nmbr">212</span> </div></td>
			<td><div class="centr"> <span class="nmbr">15</span> </div></td>
			<td><div class="centr"> <span class="nmbr">15</span>* </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbup.png" width="23">(вверх) </div></td>
			<td><div class="centr"> <span class="nmbr">32</span> </div></td>
			<td><div class="centr"> <span class="nmbr">232</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">101</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">121</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbdn.png" width="23"> (вниз) </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> </div></td>
			<td><div class="centr"> <span class="nmbr">233</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">102</span> </div></td>
			<td><div class="centr"> <span class="nmbr">12</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kbrt.png" width="23"> (вправо) </div></td>
			<td><div class="centr"> <span class="nmbr">10</span> </div></td>
			<td><div class="centr"> <span class="nmbr">210</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">103</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">120</span> </div></td>
		</tr>
		<tr>
			<td><div class="leftid"> <img alt="" height="20" src="/img/kbd/kblt.png" width="23"> (влево) </div></td>
			<td><div class="centr"> <span class="nmbr">31</span> </div></td>
			<td><div class="centr"> <span class="nmbr">231</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">104</span> </div></td>
			<td><div class="centr"> <span class="nmbr">33</span> <span class="nmbr">122</span> </div></td>
		</tr>
	</table>
	<p><span class="attnt">Примечание.</span> * - в режиме дополнительной клавиатуры 
		код <span class="nmbr">33</span> <span class="nmbr">77</span> </p>
	<p>Коды функциональных клавиш в режиме перекодировки и дополнительной клавиатуры </p>
	<table class="mcmd border">
		<tr>
			<th> <p>Клавиша + АР2</p>
			</th>
			<th> <p>Код</p>
			</th>
		</tr>
		<tr>
			<td><span class="nmbr">0</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">160</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">1</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">161</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">2</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">162</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">3</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">163</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">4</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">164</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">5</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">165</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">6</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">166</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">7</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">167</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">8</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">170</span></td>
		</tr>
		<tr>
			<td><span class="nmbr">9</span></td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">171</span></td>
		</tr>
		<tr>
			<td>.</td>
			<td><span class="nmbr">33</span> <span class="nmbr">77</span> <span class="nmbr">156</span></td>
		</tr>
	</table>
	<p><br>
	</p>
	<h2 id="_ref_app2">Приложение <span class="nmbr">2</span>: управление экраном</h2>
	<p>Управляющие символы драйвера экрана </p>
	<table class="mcmd border">
		<tr>
			<th> <p>Код</p>
			</th>
			<th> <p>Назначение</p>
			</th>
		</tr>
		<tr>
			<td><span class="nmbr">7</span></td>
			<td>Звонок</td>
		</tr>
		<tr>
			<td><span class="nmbr">10</span></td>
			<td>Возврат на шаг (курсор влево)</td>
		</tr>
		<tr>
			<td><span class="nmbr">11</span></td>
			<td>Горизонтальная табуляция</td>
		</tr>
		<tr>
			<td><span class="nmbr">12</span></td>
			<td>Перевод строки (курсор вниз, сдвиг экрана вверх)</td>
		</tr>
		<tr>
			<td><span class="nmbr">14</span></td>
			<td>Перевод формата (пропуск <span class="nmbr">10</span> строк)</td>
		</tr>
		<tr>
			<td><span class="nmbr">15</span></td>
			<td>Возврат каретки (курсор в начало строки)</td>
		</tr>
		<tr>
			<td><span class="nmbr">16</span></td>
			<td>Переход на русский регистр (в КОИ-7)</td>
		</tr>
		<tr>
			<td><span class="nmbr">17</span></td>
			<td>Переход на латинский регистр (в КОИ-7)</td>
		</tr>
		<tr>
			<td><span class="nmbr">33</span></td>
			<td>ESCAPE (начало командной последовательности)</td>
		</tr>
	</table>
	<p><br>
	</p>
	<p>Командные последовательности </p>
	<table class="mcmd border">
		<tr>
			<th colspan="2"> <p>Команда</p>
			</th>
			<th> <p>Назначение</p>
			</th>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">0</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">060</span>)</td>
			<td>Устанавливает режим <span class="nmbr">32</span> символа в строке</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">1</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">061</span>)</td>
			<td>Устанавливает режим <span class="nmbr">64</span> символа в строке</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">2</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">062</span>)</td>
			<td>Устанавливает режим <span class="nmbr">80</span> символов в строке</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">3</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">063</span>)</td>
			<td>Двойная ширина символов</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">4</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">064</span>)</td>
			<td>Одинарная ширина символов</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">5</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">065</span>)</td>
			<td>Двойная высота символов (верхняя половина)</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">6</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">066</span>)</td>
			<td>Двойная высота символов (нижняя половина)</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">7</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">067</span>)</td>
			<td>Отмена двойной высоты</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">8</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">070</span>)</td>
			<td>Отображение курсора</td>
		</tr>
		<tr>
			<td>ESC <span class="nmbr">9</span></td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">071</span>)</td>
			<td>Запрет курсора</td>
		</tr>
		<tr>
			<td>ESC :</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">072</span>)</td>
			<td>Установка палитры <sup>(<span class="nmbr">1</span>)</sup></td>
		</tr>
		<tr>
			<td>ESC ;</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">073</span>)</td>
			<td>Установка цветов <sup>(<span class="nmbr">2</span>)</sup></td>
		</tr>
		<tr>
			<td>ESC =</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">075</span>)</td>
			<td>Вводит режим дополнительной клавиатуры</td>
		</tr>
		<tr>
			<td>ESC &gt;</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">076</span>)</td>
			<td>Сбрасывает режим дополнительной клавиатуры</td>
		</tr>
		<tr>
			<td>ESC @</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">100</span>)</td>
			<td>Раздвижка символов от курсора вправо</td>
		</tr>
		<tr>
			<td>ESC A</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">101</span>)</td>
			<td>Курсор вверх (в первой строке игнорируется)</td>
		</tr>
		<tr>
			<td>ESC B</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">102</span>)</td>
			<td>Курсор вниз (в последней строке игнорируется)</td>
		</tr>
		<tr>
			<td>ESC C</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">103</span>)</td>
			<td>Курсор вправо (зависит от режима автопереноса)</td>
		</tr>
		<tr>
			<td>ESC D</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">104</span>)</td>
			<td>Курсор влево (зависит от режима автопереноса)</td>
		</tr>
		<tr>
			<td>ESC E</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">105</span>)</td>
			<td>Стирание экрана</td>
		</tr>
		<tr>
			<td>ESC H</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">110</span>)</td>
			<td>Курсор в начало экрана</td>
		</tr>
		<tr>
			<td>ESC I</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">111</span>)</td>
			<td>&quot;Обратный ПС&quot; (сдвиг экрана вниз)</td>
		</tr>
		<tr>
			<td>ESC J</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">112</span>)</td>
			<td>Стирание от курсора до конца экрана</td>
		</tr>
		<tr>
			<td>ESC K</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">113</span>)</td>
			<td>Стирание от курсора до конца строки</td>
		</tr>
		<tr>
			<td>ESC L</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">114</span>)</td>
			<td>Раздвижка строк от курсора вниз</td>
		</tr>
		<tr>
			<td>ESC M</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">115</span>)</td>
			<td>Сдвижка строк к курсору вверх (строка, в которой находился курсор, 
				исчезает)</td>
		</tr>
		<tr>
			<td>ESC N</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">116</span>)</td>
			<td>Подчёркивание символов</td>
		</tr>
		<tr>
			<td>ESC O</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">117</span>)</td>
			<td>Отмена подчёркивания символов</td>
		</tr>
		<tr>
			<td>ESC P</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">120</span>)</td>
			<td>Сдвижка символов к курсору влево</td>
		</tr>
		<tr>
			<td>ESC Q</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">121</span>)</td>
			<td>Курсор в начало следующей строки</td>
		</tr>
		<tr>
			<td>ESC R</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">122</span>)</td>
			<td>Курсор в начало текущей строки</td>
		</tr>
		<tr>
			<td>ESC T</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">124</span>)</td>
			<td>Инверсия символов</td>
		</tr>
		<tr>
			<td>ESC U</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">125</span>)</td>
			<td>Отмена инверсии</td>
		</tr>
		<tr>
			<td>ESC Y</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">131</span>)</td>
			<td>Прямая адресация курсора <sup>(<span class="nmbr">3</span>)</sup></td>
		</tr>
		<tr>
			<td>ESC Z</td>
			<td>(<span class="nmbr">033</span> <span class="nmbr">132</span>)</td>
			<td>Идентификация <sup>(<span class="nmbr">4</span>)</sup></td>
		</tr>
	</table>
	<p><br>
	</p>
	<p class="attnt">Примечания.</p>
	<ul>
		<li><sup>(<span class="nmbr">1</span>)</sup> после команды должен следовать 
			байт, младшие <span class="nmbr">4</span> бита означают код палитры; </li>
		<li><sup>(<span class="nmbr">2</span>)</sup> после команды должны следовать 
			два байта,означающие фон и цвет символов; </li>
		<li><sup>(<span class="nmbr">3</span>)</sup> после команды должны следовать 
			код строки и код позиции в строке. Код <span class="nmbr">40</span> соответствует 
			верхней строке и левой позиции; </li>
		<li><sup>(<span class="nmbr">4</span>)</sup> в ответ на команду в драйвер 
			клавиатуры передаётся последовательность: ESC/K. </li>
	</ul>
	<h2 id="_ref_app3">Приложение <span class="nmbr">3</span>: формат слова управления 
		режимом экрана</h2>
	<svg id="ap3" height="410" width="520">
		<rect id="r_cell3" x="0.5" y="24.5" width="32" height="32" class="style0"/>
		<use id="r_bit14" xlink:href="#r_cell3" transform="translate(32.5,0)"/>
		<use id="r_bit13" xlink:href="#r_cell3" transform="translate(64.5,0)"/>
		<use id="r_bit12" xlink:href="#r_cell3" transform="translate(96.5,0)"/>
		<use id="r_bit11" xlink:href="#r_cell3" transform="translate(128.5,0)"/>
		<use id="r_bit10" xlink:href="#r_cell3" transform="translate(160.5,0)"/>
		<use id="r_bit09" xlink:href="#r_cell3" transform="translate(192.5,0)"/>
		<use id="r_bit08" xlink:href="#r_cell3" transform="translate(224.5,0)"/>
		<use id="r_bit07" xlink:href="#r_cell3" transform="translate(256.5,0)"/>
		<use id="r_bit06" xlink:href="#r_cell3" transform="translate(288.5,0)"/>
		<use id="r_bit05" xlink:href="#r_cell3" transform="translate(320.5,0)"/>
		<use id="r_bit04" xlink:href="#r_cell3" transform="translate(352.5,0)"/>
		<use id="r_bit03" xlink:href="#r_cell3" transform="translate(384.5,0)"/>
		<use id="r_bit02" xlink:href="#r_cell3" transform="translate(416.5,0)"/>
		<use id="r_bit01" xlink:href="#r_cell3" transform="translate(448.5,0)"/>
		<use id="r_bit00" xlink:href="#r_cell3" transform="translate(480.5,0)"/>
		<text id="t_bit15"  x="16" y="16" class="style2">
			<tspan class="nmbr">15</tspan>
		</text>
		<text id="t_bit14"  x="48" y="16" class="style2">
			<tspan class="nmbr">14</tspan>
		</text>
		<text id="t_bit13"  x="80" y="16" class="style2">
			<tspan class="nmbr">13</tspan>
		</text>
		<text id="t_bit12" x="112" y="16" class="style2">
			<tspan class="nmbr">12</tspan>
		</text>
		<text id="t_bit11" x="144" y="16" class="style2">
			<tspan class="nmbr">11</tspan>
		</text>
		<text id="t_bit10" x="176" y="16" class="style2">
			<tspan class="nmbr">10</tspan>
		</text>
		<text id="t_bit09" x="208" y="16" class="style2">
			<tspan class="nmbr">09</tspan>
		</text>
		<text id="t_bit08" x="240" y="16" class="style2">
			<tspan class="nmbr">08</tspan>
		</text>
		<text id="t_bit07" x="272" y="16" class="style2">
			<tspan class="nmbr">07</tspan>
		</text>
		<text id="t_bit06" x="304" y="16" class="style2">
			<tspan class="nmbr">06</tspan>
		</text>
		<text id="t_bit05" x="336" y="16" class="style2">
			<tspan class="nmbr">05</tspan>
		</text>
		<text id="t_bit04" x="368" y="16" class="style2">
			<tspan class="nmbr">04</tspan>
		</text>
		<text id="t_bit03" x="400" y="16" class="style2">
			<tspan class="nmbr">03</tspan>
		</text>
		<text id="t_bit02" x="432" y="16" class="style2">
			<tspan class="nmbr">02</tspan>
		</text>
		<text id="t_bit01" x="464" y="16" class="style2">
			<tspan class="nmbr">01</tspan>
		</text>
		<text id="t_bit00" x="496" y="16" class="style2">
			<tspan class="nmbr">00</tspan>
		</text>
		<text id="t_bc15"  x="16" y="44" class="style2">X</text>
		<text id="t_bc14"  x="48" y="44" class="style2"></text>
		<text id="t_bc13"  x="80" y="44" class="style2"></text>
		<text id="t_bc12" x="112" y="44" class="style2"></text>
		<text id="t_bc11" x="144" y="44" class="style2"></text>
		<text id="t_bc10" x="176" y="44" class="style2"></text>
		<text id="t_bc09" x="208" y="44" class="style2">X</text>
		<text id="t_bc08" x="240" y="44" class="style2"></text>
		<text id="t_bc07" x="272" y="44" class="style2"></text>
		<text id="t_bc06" x="304" y="44" class="style2">X</text>
		<text id="t_bc05" x="336" y="44" class="style2">X</text>
		<text id="t_bc04" x="368" y="44" class="style2"></text>
		<text id="t_bc03" x="400" y="44" class="style2"></text>
		<text id="t_bc02" x="432" y="44" class="style2"></text>
		<text id="t_bc01" x="464" y="44" class="style2"></text>
		<text id="t_bc00" x="496" y="44" class="style2"></text>
		<polyline id="pl_b14" points=" 48.5,56.5  48.5,72.5" class="style0"/>
		<polyline id="pl_b13" points=" 80.5,56.5  80.5,152.5" class="style0"/>
		<polyline id="pl_b12" points="112.5,56.5 112.5,200.5" class="style0"/>
		<polyline id="pl_b11" points="144.5,56.5 144.5,264.5 122.5,264.5" class="style0"/>
		<polyline id="pl_b10" points="176.5,56.5 176.5,310.5 158.5,310.5" class="style0"/>
		<polyline id="pl_b8"  points="240.5,56.5 240.5,328.5" class="style0"/>
		<polyline id="pl_b7"  points="272.5,56.5 272.5,388.5 186.5,388.5" class="style0"/>
		<polyline id="pl_b4"  points="368.5,56.5 368.5,72.5" class="style0"/>
		<polyline id="pl_b3"  points="400.5,56.5 400.5,104.5" class="style0"/>
		<polyline id="pl_b2"  points="432.5,56.5 432.5,152.5" class="style0"/>
		<polyline id="pl_b1"  points="464.5,56.5 464.5,232.5" class="style0"/>
		<polyline id="pl_b0"  points="496.5,56.5 496.5,312.5 480.5,312.5" class="style0"/>
		<rect id="r_b14" x="0.5" y="74.5" width="78" height="68" class="style3"/>
		<text id="t_b14d" class="style1">
			<tspan x="1" y="88">отоб-</tspan>
			<tspan x="1" y="104">ражение</tspan>
			<tspan x="1" y="120">управл.</tspan>
			<tspan x="1" y="136">символов</tspan>
		</text>
		<rect id="r_b13" x="0.5" y="154.5" width="84" height="38" class="style3"/>
		<text id="t_b13d" class="style1">
			<tspan x="1" y="168">индикация</tspan>
			<tspan x="1" y="184">курсора</tspan>
		</text>
		<rect id="r_b12" x="0.5" y="202.5" width="120" height="38" class="style3"/>
		<text id="t_b12d" class="style1">
			<tspan x="1" y="216">разрешение</tspan>
			<tspan x="1" y="232">автопереноса</tspan>
		</text>
		<rect id="r_b11" x="0.5" y="250.5" width="120" height="38" class="style3"/>
		<text id="t_b11d" class="style1">
			<tspan x="1" y="264">подчёркивание</tspan>
			<tspan x="1" y="280">символов</tspan>
		</text>
		<rect id="r_b10" x="0.5" y="298.5" width="156" height="22" class="style3"/>
		<text id="t_b10d" x="1" y="312" class="style1">инверсия символов</text>
		<rect id="r_b8" x="0.5" y="330.5" width="264" height="38" class="style3"/>
		<text id="t_b8d" class="style1">
			<tspan x="1" y="344">в коде КОИ-7 - КОИ7Н2,</tspan>
			<tspan x="1" y="360">в КОИ-8 - совмещённый КОИ-7,8</tspan>
		</text>
		<rect id="r_b7" x="0.5" y="378.5" width="184" height="22" class="style3"/>
		<text id="t_b7d" x="1" y="392" class="style1">
			<tspan class="nmbr">0</tspan>
			- КОИ-7,
			<tspan class="nmbr">1</tspan>
			- КОИ-8</text>
		<rect id="r_b4" x="274.5" y="74.5" width="122" height="22" class="style3"/>
		<text id="t_b4d" class="style1">
			<tspan x="276" y="88">плавный сдвиг</tspan>
		</text>
		<rect id="r_b3" x="274.5" y="106.5" width="136" height="38" class="style3"/>
		<text id="t_b3d" class="style1">
			<tspan x="276" y="120">подчёркивающий</tspan>
			<tspan x="276" y="136">курсор</tspan>
		</text>
		<rect id="r_b2" x="274.5" y="154.5" width="178" height="70" class="style3"/>
		<text id="t_b2d1" x="276" y="168" class="style1">
			<tspan class="nmbr">80</tspan>
			символов в
			<tspan x="276" y="184">строке (не работает</tspan>
		</text>
		<text id="t_b2d2" x="276" y="200" class="style1">в режиме
			<tspan class="nmbr">256</tspan>
			точек
			<tspan x="276" y="216">в строке)</tspan>
		</text>
		<rect id="r_b1" x="274.5" y="234.5" width="204" height="54" class="style3"/>
		<text id="t_b1d1" x="276" y="248" class="style1">двойная ширина (не</text>
		<text id="t_b1d2" x="276" y="264" class="style1">работает в режиме
			<tspan class="nmbr">80</tspan>
			<tspan x="276" y="280"> символов в строке)</tspan>
		</text>
		<rect id="r_b0" x="274.5" y="298.5" width="204" height="38" class="style3"/>
		<text id="t_b0d1" x="276" y="312" class="style1">
			<tspan class="nmbr">0</tspan>
			-
			<tspan class="nmbr">512</tspan>
			точек в строке</text>
		<text id="t_b0d2" x="276" y="328" class="style1">
			<tspan class="nmbr">1</tspan>
			-
			<tspan class="nmbr">256</tspan>
			точек в строке</text>
	</svg>
	<div class="visualClear"> </div>
</div>
<div id="content"> 
		<div style="display:block;position:relative;float:left;">
<!-- MAXILOG -->
<script language="javascript">
<!--
d=document; 
ml_js="1.0";
ml_r=""+Math.random()+"&kl=6&pi=1&pm=0&r="+escape(d.referrer)+"&pg="+escape(window.location.href)+"&ld="+Date();
d.cookie="maxilog=1; path=/"; ml_r+="&c="+(d.cookie?"Y":"N");
//-->
</script>
<script language="javascript1.1">
<!--
ml_js="1.1";ml_r+="&j="+(navigator.javaEnabled()?"Y":"N")
//-->
</script>
<script language="javascript1.2">
<!--
ml_js="1.2";
ml_r+="&wh="+screen.width+'x'+screen.height+"&px="+(((navigator.appName.substring(0,3)=="Mic"))?screen.colorDepth:screen.pixelDepth)+"&bl="+navigator.language;
//-->
</script>
<script language="javascript1.3">
<!--
ml_js="1.3"
//-->
</script>
<script language="javascript">
<!--
ml_r+="&js="+ml_js;
document.write("<a href='http://stat.maxiol.com/index.htm?kl=6' target='_top'><img "+" src='http://hit.maxiol.com/hit.htm?"+ml_r+"&' border=0 width=88 height=31 alt=MaxiLog></a>")
//-->
</script>
<noscript>
<a href=http://stat.maxiol.com/index.htm?kl=6 target=_top><img src="http://hit.maxiol.com/hit.htm?kl=6&pi=1&pm=1" border=0 width=88 height="31" alt="MaxiLog"></a>
</noscript>
<!-- /MAXILOG -->
	</div>
<p style="text-align:right; color:#999999; font-size:80%">Performed by &copy; gid, 2012-2021.</p>
</div>
</body>
</html>
